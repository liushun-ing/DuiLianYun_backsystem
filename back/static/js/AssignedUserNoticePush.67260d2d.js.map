{"version":3,"sources":["webpack:///./src/components/page/notice_about/AssignedUserNoticePush.vue?b9af","webpack:///./src/components/page/notice_about/AssignedUserNoticePush.vue?2861","webpack:///src/components/page/notice_about/AssignedUserNoticePush.vue","webpack:///./src/components/page/notice_about/AssignedUserNoticePush.vue?fbc3","webpack:///./src/components/page/notice_about/AssignedUserNoticePush.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","rules","form","staticStyle","model","value","callback","$$v","$set","expression","on","$event","dialogFormVisible","uploadFile","beforeFileUpload","onSubmit","inputKey","searchUser","userList","handleSelectionChange","scopedSlots","_u","key","fn","scope","row","userType","_e","addChosenUser","noticeUserList","handleSelectionChangeChosen","cancelChoice","slot","staticRenderFns","messageObject","close","data","url","$message","console","log","res","initUserList","forEach","component"],"mappings":"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","file":"static/js/AssignedUserNoticePush.67260d2d.js","sourcesContent":["export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AssignedUserNoticePush.vue?vue&type=style&index=0&id=7eda3a7c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-lx-calendar\"}),_vm._v(\" 通知 \")]),_c('el-breadcrumb-item',[_vm._v(\"指定用户通知\")])],1)],1),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"form-box\"},[_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"通知名称\",\"prop\":\"noticeTitle\"}},[_c('el-input',{staticStyle:{\"width\":\"250px\"},model:{value:(_vm.form.noticeTitle),callback:function ($$v) {_vm.$set(_vm.form, \"noticeTitle\", $$v)},expression:\"form.noticeTitle\"}})],1),_c('el-form-item',{attrs:{\"label\":\"通知内容\",\"prop\":\"noticeContent\"}},[_c('el-input',{staticClass:\"introduction\",attrs:{\"type\":\"textarea\",\"rows\":\"5\"},model:{value:(_vm.form.noticeContent),callback:function ($$v) {_vm.$set(_vm.form, \"noticeContent\", $$v)},expression:\"form.noticeContent\"}})],1),_c('el-form-item',{attrs:{\"label\":\"选择用户\",\"prop\":\"totalExpress\"}},[_c('el-input',{staticStyle:{\"width\":\"150px\",\"padding-right\":\"10px\"},attrs:{\"readonly\":\"\"},model:{value:(_vm.form.totalExpress),callback:function ($$v) {_vm.$set(_vm.form, \"totalExpress\", $$v)},expression:\"form.totalExpress\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"点击选择用户\")])],1),_c('el-form-item',{attrs:{\"label\":\"通知附件小于10M\"}},[_c('el-upload',{ref:\"uploadFile\",staticClass:\"file_wrap\",attrs:{\"action\":\"uploadFileURL\",\"http-request\":_vm.uploadFile,\"before-upload\":_vm.beforeFileUpload,\"limit\":1}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击选择附件\")])],1)],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"发送\")])],1)],1)],1)]),_c('el-dialog',{attrs:{\"title\":\"选择用户\",\"visible\":_vm.dialogFormVisible,\"width\":\"60%\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('div',{staticClass:\"drag-box\"},[_c('div',{staticClass:\"to-choose-user\"},[_c('div',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"prefix-icon\":\"el-icon-search\",\"placeholder\":\"请输入关键字\"},model:{value:(_vm.inputKey),callback:function ($$v) {_vm.inputKey=$$v},expression:\"inputKey\"}}),_c('el-button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchUser}},[_vm._v(\"搜索\")])],1),_c('el-table',{ref:\"toChooseTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"height\":\"300\",\"data\":_vm.userList,\"tooltip-effect\":\"dark\",\"empty-text\":\"请输入关键字搜索\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"min-width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"userNickname\",\"label\":\"昵称\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"姓名\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"label\":\"会员\",\"min-width\":\"50\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.userType === '1' || scope.row.userType === '3')?_c('div',[_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"是\")])],1):_vm._e(),_c('div',[_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"否\")])],1)]}}])})],1),_c('div',{staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"success\",\"plain\":\"\"},on:{\"click\":_vm.addChosenUser}},[_vm._v(\"添加\")])],1)],1),_c('div',{staticClass:\"chosen-user\"},[_c('div',{staticStyle:{\"padding-bottom\":\"20px\",\"text-align\":\"center\"}},[_c('div',{staticClass:\"tip_wrap\"},[_vm._v(\"已选中用户列表\")])]),_c('el-table',{ref:\"chosenTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"height\":\"300\",\"empty-text\":\"还没有用户被选中\",\"data\":_vm.form.noticeUserList,\"tooltip-effect\":\"dark\"},on:{\"selection-change\":_vm.handleSelectionChangeChosen}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"min-width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"userNickname\",\"label\":\"昵称\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"姓名\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"label\":\"会员\",\"min-width\":\"50\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.userType === '1' || scope.row.userType === '3')?_c('div',[_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"是\")])],1):_vm._e(),_c('div',[_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"否\")])],1)]}}])})],1),_c('div',{staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":_vm.cancelChoice}},[_vm._v(\"移除选中\")])],1)],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"crumbs\">\n            <el-breadcrumb separator=\"/\">\n                <el-breadcrumb-item> <i class=\"el-icon-lx-calendar\"></i> 通知 </el-breadcrumb-item>\n                <el-breadcrumb-item>指定用户通知</el-breadcrumb-item>\n            </el-breadcrumb>\n        </div>\n        <div class=\"container\">\n            <div class=\"form-box\">\n                <el-form ref=\"form\" :rules=\"rules\" :model=\"form\" label-width=\"80px\">\n                    <el-form-item label=\"通知名称\" prop=\"noticeTitle\">\n                        <el-input style=\"width: 250px\" v-model=\"form.noticeTitle\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"通知内容\" prop=\"noticeContent\">\n                        <el-input type=\"textarea\" class=\"introduction\" rows=\"5\" v-model=\"form.noticeContent\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"选择用户\" prop=\"totalExpress\">\n                        <el-input v-model=\"form.totalExpress\" style=\"width: 150px; padding-right: 10px\" readonly></el-input>\n                        <el-button type=\"primary\" @click=\"dialogFormVisible = true\" round>点击选择用户</el-button>\n                    </el-form-item>\n                    <el-form-item label=\"通知附件小于10M\">\n                        <el-upload\n                            ref=\"uploadFile\"\n                            class=\"file_wrap\"\n                            action=\"uploadFileURL\"\n                            :http-request=\"uploadFile\"\n                            :before-upload=\"beforeFileUpload\"\n                            :limit=\"1\"\n                        >\n                            <el-button size=\"small\" type=\"primary\">点击选择附件</el-button>\n                        </el-upload>\n                    </el-form-item>\n                    <el-form-item>\n                        <el-button type=\"primary\" style=\"width: 200px\" @click=\"onSubmit\">发送</el-button>\n                    </el-form-item>\n                </el-form>\n            </div>\n        </div>\n        <el-dialog title=\"选择用户\" :visible.sync=\"dialogFormVisible\" width=\"60%\" :close-on-click-modal=\"false\">\n            <div class=\"drag-box\">\n                <div class=\"to-choose-user\">\n                    <div style=\"margin-bottom: 20px\">\n                        <el-input\n                            v-model=\"inputKey\"\n                            prefix-icon=\"el-icon-search\"\n                            placeholder=\"请输入关键字\"\n                            style=\"width: 200px\"\n                        ></el-input>\n                        <el-button type=\"primary\" icon=\"el-icon-search\" style=\"margin-left: 20px\" @click=\"searchUser\">搜索</el-button>\n                    </div>\n                    <el-table\n                        ref=\"toChooseTable\"\n                        height=\"300\"\n                        :data=\"userList\"\n                        tooltip-effect=\"dark\"\n                        empty-text=\"请输入关键字搜索\"\n                        style=\"width: 100%\"\n                        @selection-change=\"handleSelectionChange\"\n                    >\n                        <el-table-column type=\"selection\" min-width=\"55\"></el-table-column>\n                        <el-table-column prop=\"userNickname\" label=\"昵称\" min-width=\"120\"></el-table-column>\n                        <el-table-column prop=\"userName\" label=\"姓名\" min-width=\"120\"></el-table-column>\n                        <el-table-column label=\"会员\" min-width=\"50\">\n                            <template slot-scope=\"scope\">\n                                <div v-if=\"scope.row.userType === '1' || scope.row.userType === '3'\">\n                                    <el-tag type=\"danger\">是</el-tag>\n                                </div>\n                                <div>\n                                    <el-tag type=\"info\">否</el-tag>\n                                </div>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                    <div style=\"margin-top: 20px; text-align: right\">\n                        <el-button @click=\"addChosenUser\" type=\"success\" plain>添加</el-button>\n                    </div>\n                </div>\n\n                <div class=\"chosen-user\">\n                    <div style=\"padding-bottom: 20px; text-align: center\">\n                        <div class=\"tip_wrap\">已选中用户列表</div>\n                    </div>\n                    <el-table\n                        height=\"300\"\n                        empty-text=\"还没有用户被选中\"\n                        ref=\"chosenTable\"\n                        :data=\"form.noticeUserList\"\n                        tooltip-effect=\"dark\"\n                        style=\"width: 100%\"\n                        @selection-change=\"handleSelectionChangeChosen\"\n                    >\n                        <el-table-column type=\"selection\" min-width=\"55\"></el-table-column>\n                        <el-table-column prop=\"userNickname\" label=\"昵称\" min-width=\"120\"></el-table-column>\n                        <el-table-column prop=\"userName\" label=\"姓名\" min-width=\"120\"></el-table-column>\n                        <el-table-column label=\"会员\" min-width=\"50\">\n                            <template slot-scope=\"scope\">\n                                <div v-if=\"scope.row.userType === '1' || scope.row.userType === '3'\">\n                                    <el-tag type=\"danger\">是</el-tag>\n                                </div>\n                                <div>\n                                    <el-tag type=\"info\">否</el-tag>\n                                </div>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                    <div style=\"margin-top: 20px; text-align: right\">\n                        <el-button @click=\"cancelChoice\" type=\"danger\" plain>移除选中</el-button>\n                    </div>\n                </div>\n            </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button type=\"primary\" @click=\"dialogFormVisible = false\">确 定</el-button>\n            </span>\n        </el-dialog>\n    </div>\n</template>\n\n\n<script>\nexport default {\n    name: 'AssignedUserNoticePush',\n\n    data() {\n        var totalExpress = (rules, value, callback) => {\n            let index = value.lastIndexOf(':');\n            let num = value.slice(index + 1);\n            if (num == '0') {\n                callback(new Error('选择用户不能为空'));\n            } else {\n                callback();\n            }\n        };\n        return {\n            dialogFormVisible: false,\n\n            form: {\n                totalExpress: '已选中人数:0',\n                noticeTitle: '',\n                noticeContent: '',\n                attachmentSrc: '',\n                noticeUserList: []\n            },\n\n            messageObject: '',\n            chosenUserList: [],\n\n            multipleSelection: [],\n            multipleSelectionChose: [],\n\n            inputKey: '',\n\n            userList: [],\n\n            rules: {\n                noticeTitle: [\n                    { required: true, message: '请输入通知名称', trigger: 'blur' },\n                    { min: 1, max: 10, message: '长度在 1 到 10 个字符' }\n                ],\n                noticeContent: [{ required: true, message: '请输入通知内容', trigger: 'blur' }],\n                totalExpress: [{ required: true, validator: totalExpress, trigger: ['blur', 'change'] }]\n            }\n        };\n    },\n\n    methods: {\n        async uploadFile(file) {\n            try {\n                const data = await utils.uploadFile('/user-server/user/uploadPortrait', file.file);\n                this.messageObject.close();\n                this.$set(this.form, 'attachmentSrc', data.url);\n                this.$message({\n                    message: '文件上传成功',\n                    duration: 2000,\n                    type: 'success'\n                });\n            } catch (error) {\n                this.messageObject.close();\n                console.log(error);\n                this.$message({\n                    message: '文件上传失败',\n                    duration: 2000,\n                    type: 'error'\n                });\n            }\n        },\n\n        beforeFileUpload(file) {\n            const index = file.name.lastIndexOf('.');\n            const type = file.name.slice(index);\n            const isFile = type === '.doc' || type === '.pdf' || type === '.xls' || type === '.xlsx' || type === '.docx';\n            if (!isFile) {\n                this.$message.error('上传文件只能是 doc/docx/pdf/xls/xlsx 格式!');\n                return false;\n            }\n            const isLt10M = file.size / 1024 / 1024 < 10; //这里做文件大小限制 10M\n            if (!isLt10M) {\n                this.$message.error('文件大小不能超过10M!');\n                return false;\n            }\n            this.messageObject = this.$message({\n                message: '上传中',\n                duration: -1\n            });\n            return true;\n        },\n\n        async searchUser() {\n            if (!this.inputKey) {\n                this.$message({\n                    message: '请先输入搜索关键字',\n                    duration: 1500,\n                    type: 'warning'\n                });\n                return;\n            }\n            let params = {\n                inputKey: this.inputKey\n            };\n            try {\n                const res = await this.$api.notice.getSearchUsers(params);\n                this.userList = res.userList;\n                this.initUserList();\n            } catch (error) {\n                console.log(error);\n                this.$message({\n                    message: '获取用户列表失败，刷新页面',\n                    duration: 2000,\n                    type: 'error'\n                });\n            }\n        },\n\n        initUserList() {\n            this.userList.forEach((row) => {\n                for (let index = 0; index < this.form.noticeUserList.length; index++) {\n                    if (row.userId === this.form.noticeUserList[index].userId) {\n                        this.$refs.toChooseTable.toggleRowSelection(row);\n                        break;\n                    }\n                }\n            });\n        },\n\n        handleSelectionChange(val) {\n            this.multipleSelection = val;\n        },\n\n        handleSelectionChangeChosen(val) {\n            this.multipleSelectionChose = val;\n        },\n\n        //添加选中的用户\n        addChosenUser() {\n            if (this.multipleSelection.length != 0) {\n                this.form.noticeUserList = this.form.noticeUserList.concat(this.multipleSelection);\n                this.multipleSelection.forEach((item, index) => {\n                    for (let userListIndex = 0; userListIndex < this.userList.length; userListIndex++) {\n                        if (this.userList[userListIndex].userId === item.userId) {\n                            this.userList.splice(userListIndex, 1);\n                            break;\n                        }\n                    }\n                });\n                this.multipleSelection = [];\n                this.form.totalExpress = '已选中人数:' + this.form.noticeUserList.length;\n            } else {\n                this.$message('请先选中用户');\n            }\n        },\n\n        //相应“取消选中”按钮点击事件，取消选中的用户\n        cancelChoice() {\n            if (this.multipleSelectionChose != 0) {\n                this.userList = this.userList.concat(this.multipleSelectionChose);\n                this.multipleSelectionChose.forEach((item, index) => {\n                    for (let i = 0; i < this.form.noticeUserList.length; i++) {\n                        if (this.form.noticeUserList[i].userId === item.userId) {\n                            this.form.noticeUserList.splice(i, 1);\n                            break;\n                        }\n                    }\n                });\n                this.multipleSelectionChose = [];\n                this.form.totalExpress = '已选中人数:' + this.form.noticeUserList.length;\n            } else {\n                this.$message('请先选中用户');\n            }\n        },\n\n        async uploadNoticeData() {\n            try {\n                let tmpList = [];\n                this.form.noticeUserList.forEach((item) => {\n                    tmpList.push(item.userId);\n                });\n                let params = {\n                    noticeTitle: this.form.noticeTitle,\n                    noticeContent: this.form.noticeContent,\n                    attachmentSrc: this.form.attachmentSrc,\n                    noticeUserList: tmpList\n                };\n                await this.$api.notice.noticeSomeUsers(params);\n                this.$message({\n                    message: '通知发送成功',\n                    duration: 2000,\n                    type: 'success'\n                });\n            } catch (error) {\n                this.$message({\n                    message: '通知发送失败',\n                    duration: 2000,\n                    type: 'error'\n                });\n            }\n        },\n\n        onSubmit() {\n            this.$refs['form'].validate((valid) => {\n                if (valid) {\n                    this.uploadNoticeData();\n                    this.$refs.uploadFile.clearFiles();\n                    this.reset();\n                } else {\n                    return false;\n                }\n            });\n        },\n\n        reset() {\n            this.dialogFormVisible = false;\n            this.form = {\n                noticeTitle: '',\n                noticeContent: '',\n                noticeUserList: [],\n                attachmentSrc: '',\n                totalExpress: '已选中人数:0'\n            };\n            this.multipleSelection = [];\n            this.multipleSelectionChose = [];\n            this.inputKey = '';\n            this.userList = [];\n            this.$refs['form'].clearValidate();\n        }\n    }\n};\n</script>\n\n<style scoped>\n.introduction {\n    width: 250px;\n}\n.add-button {\n    margin-left: 20px;\n}\n.to-choose-user {\n    flex: 1;\n    padding-right: 10px;\n    border-right: #8c939d solid 1px;\n}\n.chosen-user {\n    flex: 1;\n    padding-left: 10px;\n}\n.drag-box {\n    display: flex;\n    justify-content: space-around;\n}\n.tip_wrap {\n    display: inline-block;\n    line-height: 1;\n    padding: 9px 15px;\n    color: #67c23a;\n    background: #f0f9eb;\n    border: 1px solid #c2e7b0;\n    font-size: 12px;\n    border-radius: 3px;\n    font-weight: 500;\n}\n.file_wrap .el-upload{\n    width: auto;\n    height: auto;\n    border: none;\n}\n</style>","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AssignedUserNoticePush.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AssignedUserNoticePush.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AssignedUserNoticePush.vue?vue&type=template&id=7eda3a7c&scoped=true&\"\nimport script from \"./AssignedUserNoticePush.vue?vue&type=script&lang=js&\"\nexport * from \"./AssignedUserNoticePush.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AssignedUserNoticePush.vue?vue&type=style&index=0&id=7eda3a7c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7eda3a7c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}