{"version":3,"sources":["webpack:///./src/components/page/competition_about/CompetitionRelease.vue?a71a","webpack:///./src/components/page/competition_about/CompetitionRelease.vue?359b","webpack:///src/components/page/competition_about/CompetitionRelease.vue","webpack:///./src/components/page/competition_about/CompetitionRelease.vue?d4e6","webpack:///./src/components/page/competition_about/CompetitionRelease.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","reset","$event","submit","ref","rules","competitionForm","staticStyle","model","value","callback","$$v","$set","expression","uploadPicture","beforeAvatarUpload","competitionImage","toolbars","$imgAdd","$imgDel","staticRenderFns","$refs","md","$img2Url","pos","res","url","messageObject","close","$message","console","log","data","upload","clearFiles","component"],"mappings":"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","file":"static/js/CompetitionRelease.a5045fab.js","sourcesContent":["export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CompetitionRelease.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-lx-cascades\"}),_vm._v(\" 比赛发布\\n            \")])],1)],1),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"c_title_and_action\"},[_c('div',{staticClass:\"c_title_wrap\"},[_vm._v(\"比赛发布\")]),_c('div',{staticClass:\"c_button_wrap\"},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('competitionForm')}}},[_vm._v(\"发布比赛\")])],1)]),_c('div',{staticClass:\"c-form-box\"},[_c('el-form',{ref:\"competitionForm\",attrs:{\"rules\":_vm.rules,\"model\":_vm.competitionForm,\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"比赛名称\",\"prop\":\"competitionName\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.competitionForm.competitionName),callback:function ($$v) {_vm.$set(_vm.competitionForm, \"competitionName\", $$v)},expression:\"competitionForm.competitionName\"}})],1),_c('el-form-item',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":\"比赛起止时间\",\"required\":\"\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',{attrs:{\"prop\":\"competitionStartDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"选择开始时间\"},model:{value:(_vm.competitionForm.competitionStartDate),callback:function ($$v) {_vm.$set(_vm.competitionForm, \"competitionStartDate\", $$v)},expression:\"competitionForm.competitionStartDate\"}})],1)],1),_c('el-col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":2}},[_vm._v(\"-\")]),_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',{attrs:{\"prop\":\"competitionEndDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"选择结束时间\"},model:{value:(_vm.competitionForm.competitionEndDate),callback:function ($$v) {_vm.$set(_vm.competitionForm, \"competitionEndDate\", $$v)},expression:\"competitionForm.competitionEndDate\"}})],1)],1)],1),_c('el-form-item',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":\"投稿起止时间\",\"required\":\"\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',{attrs:{\"prop\":\"levyStartDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"选择开始时间\"},model:{value:(_vm.competitionForm.levyStartDate),callback:function ($$v) {_vm.$set(_vm.competitionForm, \"levyStartDate\", $$v)},expression:\"competitionForm.levyStartDate\"}})],1)],1),_c('el-col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":2}},[_vm._v(\"-\")]),_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',{attrs:{\"prop\":\"levyStartDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"选择结束时间\"},model:{value:(_vm.competitionForm.levyEndDate),callback:function ($$v) {_vm.$set(_vm.competitionForm, \"levyEndDate\", $$v)},expression:\"competitionForm.levyEndDate\"}})],1)],1)],1),_c('el-form-item',{attrs:{\"label-width\":\"0\",\"required\":\"\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"比赛封面图片最优宽高2:1\",\"prop\":\"competitionImage\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"c-avatar-uploader\",attrs:{\"action\":\"uploadURL\",\"show-file-list\":false,\"limit\":1,\"http-request\":_vm.uploadPicture,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.competitionForm.competitionImage)?_c('el-image',{staticClass:\"c-avatar\",attrs:{\"src\":_vm.competitionForm.competitionImage,\"fit\":\"contain\"}}):_c('i',{staticClass:\"el-icon-plus c-avatar-uploader-icon\"})],1)],1)],1)],1),_c('el-form-item',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":\"比赛简介\",\"prop\":\"competitionIntroduction\",\"required\":\"\"}},[_c('mavon-editor',{ref:\"md\",attrs:{\"toolbars\":_vm.toolbars,\"autofocus\":false},on:{\"imgAdd\":_vm.$imgAdd,\"imgDel\":_vm.$imgDel},model:{value:(_vm.competitionForm.competitionIntroduction),callback:function ($$v) {_vm.$set(_vm.competitionForm, \"competitionIntroduction\", $$v)},expression:\"competitionForm.competitionIntroduction\"}})],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"crumbs\">\n            <el-breadcrumb separator=\"/\">\n                <el-breadcrumb-item>\n                    <i class=\"el-icon-lx-cascades\"></i> 比赛发布\n                </el-breadcrumb-item>\n            </el-breadcrumb>\n        </div>\n        <div class=\"container\">\n            <div class=\"c_title_and_action\">\n                <div class=\"c_title_wrap\">比赛发布</div>\n                <div class=\"c_button_wrap\">\n                    <el-button type=\"warning\" @click=\"reset\">重置</el-button>  \n                    <el-button type=\"primary\" @click=\"submit('competitionForm')\">发布比赛</el-button>                  \n                </div>\n            </div>\n            <div class=\"c-form-box\">\n                <el-form ref=\"competitionForm\" :rules=\"rules\" :model=\"competitionForm\" label-width=\"110px\">\n                    <el-form-item label=\"比赛名称\" prop=\"competitionName\">\n                        <el-input style=\"width: 100%;\" v-model=\"competitionForm.competitionName\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"比赛起止时间\" required style=\"width: 100%;\">\n                        <el-col :span=\"11\">\n                            <el-form-item prop=\"competitionStartDate\">\n                                <el-date-picker type=\"datetime\" \n                                    value-format=\"yyyy-MM-dd HH:mm:ss\" \n                                    placeholder=\"选择开始时间\" \n                                    v-model=\"competitionForm.competitionStartDate\" \n                                    style=\"width: 100%;\">\n                                </el-date-picker>\n                            </el-form-item>\n                        </el-col>\n                        <el-col style=\"text-align: center\" :span=\"2\">-</el-col>\n                        <el-col :span=\"11\">\n                            <el-form-item prop=\"competitionEndDate\">\n                                <el-date-picker type=\"datetime\" \n                                    value-format=\"yyyy-MM-dd HH:mm:ss\" \n                                    placeholder=\"选择结束时间\" \n                                    v-model=\"competitionForm.competitionEndDate\" \n                                    style=\"width: 100%;\">\n                                </el-date-picker>\n                            </el-form-item>\n                        </el-col>\n                    </el-form-item>\n                    <el-form-item label=\"投稿起止时间\" required style=\"width: 100%;\">\n                        <el-col :span=\"11\">\n                            <el-form-item prop=\"levyStartDate\">\n                                <el-date-picker type=\"datetime\" \n                                    value-format=\"yyyy-MM-dd HH:mm:ss\" \n                                    placeholder=\"选择开始时间\" \n                                    v-model=\"competitionForm.levyStartDate\" \n                                    style=\"width: 100%;\">\n                                </el-date-picker>\n                            </el-form-item>\n                        </el-col>\n                        <el-col style=\"text-align: center\" :span=\"2\">-</el-col>\n                        <el-col :span=\"11\">\n                            <el-form-item prop=\"levyStartDate\">\n                                <el-date-picker type=\"datetime\" \n                                    value-format=\"yyyy-MM-dd HH:mm:ss\" \n                                    placeholder=\"选择结束时间\" \n                                    v-model=\"competitionForm.levyEndDate\" \n                                    style=\"width: 100%;\">\n                                </el-date-picker>\n                            </el-form-item>\n                        </el-col>\n                    </el-form-item>\n                    <el-form-item label-width=\"0\" required>\n                        <el-col :span=\"12\">\n                            <el-form-item label=\"比赛封面图片最优宽高2:1\" prop=\"competitionImage\">\n                                <el-upload\n                                    ref=\"upload\"\n                                    class=\"c-avatar-uploader\"\n                                    action=\"uploadURL\"\n                                    :show-file-list=\"false\"\n                                    :limit=\"1\"\n                                    :http-request=\"uploadPicture\"\n                                    :before-upload=\"beforeAvatarUpload\">\n                                    <el-image v-if=\"competitionForm.competitionImage\" :src=\"competitionForm.competitionImage\" class=\"c-avatar\" fit=\"contain\"></el-image>\n                                    <i v-else class=\"el-icon-plus c-avatar-uploader-icon\"></i>\n                                </el-upload>\n                            </el-form-item>                            \n                        </el-col>\n                    </el-form-item>\n                    <el-form-item label=\"比赛简介\" prop=\"competitionIntroduction\" required style=\"width: 100%;\">\n                        <mavon-editor v-model=\"competitionForm.competitionIntroduction\" :toolbars=\"toolbars\" :autofocus=\"false\" ref=\"md\" @imgAdd=\"$imgAdd\" @imgDel=\"$imgDel\"/>\n                    </el-form-item>\n                    \n                </el-form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport utils from '../../../utils/utils.js';\nexport default {\n    name: 'CompetitionRelease',\n    data() {\n        return {\n            toolbars: utils.toolbars,\n            competitionForm: {\n                competitionName: '',\n                competitionIntroduction: '',\n                competitionStartDate: '',\n                competitionEndDate: '',\n                levyStartDate: '',\n                levyEndDate: '',\n                competitionImage: '',\n                createBy: '',\n            },\n            rules: {\n                competitionName: [\n                    {required: true, message: '请输入比赛名称', trigger: 'blur'}\n                ],\n                competitionIntroduction: [\n                    {required: true, message: '请输入比赛简介', trigger: 'blur'}\n                ],\n                competitionImage: [\n                    {required: true, message: '请上传比赛图片', trigger: 'blur'}\n                ],\n                competitionStartDate:[\n                    {required: true, message: '请选择比赛开始时间', trigger: 'blur'}\n                ],\n                competitionEndDate:[\n                    {required: true, message: '请选择比赛结束时间', trigger: 'blur'}\n                ],\n                levyStartDate:[\n                    {required: true, message: '请选择投稿开始时间', trigger: 'blur'}\n                ],\n                levyEndDate:[\n                    {required: true, message: '请选择投稿结束时间', trigger: 'blur'}\n                ]\n            }\n        };\n    },\n    activated() {\n        this.competitionForm.createBy = utils.getSessionInfo('adminId')\n    },\n    methods: {\n        \n        // 绑定@imgAdd event\n        async $imgAdd(pos, $file){\n            if(!this.beforeAvatarUpload($file)) {\n                return;\n            }\n            let messageObject = this.$message({\n                message: '正在上传中...',\n                type: 'info',\n                duration: 0\n            });\n            try {\n                // 第一步.将图片上传到服务器.\n                const res = await utils.uploadFile('/post-server/manuscript/upload', $file);\n                // 第二步.将返回的url替换到文本原位置![...](0) -> ![...](url)\n                this.$refs.md.$img2Url(pos, res.url);\n                messageObject.close();\n                this.$message({\n                    message: '图片上传成功',\n                    duration: 2000,\n                    type: 'success'\n                });\n            } catch (error) {\n                messageObject.close();\n                this.$message({\n                    message: '图片上传失败',\n                    duration: 2000,\n                    type: 'error'\n                });\n                console.log(error);\n            }\n        },\n\n        // 删除markdown图片\n        async $imgDel(pos, $file) {\n            let params = {\n                url: pos[0]\n            };\n            try {\n                await this.$api.news.deleteImage(params);\n                console.log(\"新闻内容图片删除成功\");\n            } catch (error) {\n                console.log(\"新闻内容图片删除失败\");\n                console.log(error);\n            }\n        },\n\n        submit(formName) {\n            this.$refs[formName].validate(async (valid) => {\n                if(valid) {\n                    if(!utils.compareCompetitionDate(this.competitionForm.competitionStartDate, this.competitionForm.competitionEndDate,\n                        this.competitionForm.levyStartDate, this.competitionForm.levyEndDate)) {\n                            return false;\n                        }\n                    try {\n                        await this.$api.competition.releaseCompetition(this.competitionForm);\n                        this.$message({\n                            message: '比赛发布成功',\n                            duration: 2000,\n                            type: 'success'\n                        });\n                        this.reset();                        \n                    } catch (error) {\n                        this.$message({\n                            message: '比赛发布失败',\n                            duration: 2000,\n                            type: 'error'\n                        });\n                        console.log(error);\n                    }\n\n                } else {\n                    console.log('发布比赛表单验证失败');\n                    return false;\n                }\n            });\n        },\n\n        async uploadPicture(file) {\n            try {\n                const data = await utils.uploadFile('/post-server/manuscript/upload', file.file);\n                this.$set(this.competitionForm, 'competitionImage', data.url);\n                this.$message({\n                    message: '图片上传成功',\n                    duration: 2000,\n                    type: 'success'\n                });\n                this.$refs.upload.clearFiles();\n            } catch (error) {\n                console.log(error);\n                this.$message({\n                    message: '图片上传失败',\n                    duration: 2000,\n                    type: 'error'\n                });\n            }\n        },\n\n        // 上传前判断\n        beforeAvatarUpload(file) {\n            const isJPGOrPNG = (file.type === 'image/jpeg' || file.type === 'image/png');\n            if (!isJPGOrPNG) {\n                this.$message.error('上传封面图片只能是 JPG或者PNG 格式!');\n            }\n            else{\n                this.$message({\n                    message: '上传中',\n                    duration: 1000,\n                    type: 'info'\n                });\n            }\n            return isJPGOrPNG;\n        },\n        reset() {\n            this.competitionForm = {\n                competitionName: '',\n                competitionIntroduction: '',\n                competitionStartDate: '',\n                competitionEndDate: '',\n                levyStartDate: '',\n                levyEndDate: '',\n                competitionImage: '',\n                createBy: utils.getSessionInfo('adminId')\n            };\n            this.$refs['competitionForm'].clearValidate();\n        },\n    }\n};\n</script>\n\n<style>\n.c-avatar-uploader .el-upload {\n    width: 240px;\n    height: 160px;\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n.c-avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n}\n.c-avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 240px;\n    height: 160px;\n    line-height: 160px;\n    text-align: center;\n}\n.c-avatar {\n    height: 100%;\n    display: block;\n}\n.c-form-box {\n    width: 700px;\n}\n.c_title_and_action {\n    width: 700px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding-bottom: 10px;\n}\n.c_title_wrap {\n    font-size: 16px;\n    font-family: 'Times New Roman', Times, serif;\n}\n</style>","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CompetitionRelease.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CompetitionRelease.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CompetitionRelease.vue?vue&type=template&id=aba01ffe&\"\nimport script from \"./CompetitionRelease.vue?vue&type=script&lang=js&\"\nexport * from \"./CompetitionRelease.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CompetitionRelease.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}