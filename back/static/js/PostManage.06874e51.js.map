{"version":3,"sources":["webpack:///./src/components/page/post_about/PostManage.vue?fb55","webpack:///src/components/page/post_about/PostManage.vue","webpack:///./src/components/page/post_about/PostManage.vue?5858","webpack:///./src/components/page/post_about/PostManage.vue","webpack:///./src/components/page/post_about/PostManage.vue?e78d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","nativeOn","$event","type","indexOf","_k","keyCode","key","handleSearch","model","value","callback","$$v","inputKey","expression","on","handleRefresh","handleViewAll","handleAddManyToCouplet","ref","postList","handleSelectionChange","scopedSlots","_u","fn","scope","row","postStatus","$index","staticStyle","handleAddToCouplet","handleDelete","currentPage","pageSize","total","handlePageChange","handlePagePrev","handlePageNext","addToCoupletVisible","isSendNotice","_s","noticeForm","noticeTitle","noticeContent","slot","cancelAddToCouplet","saveAddToCouplet","staticRenderFns","res","$message","console","log","addToCoupletIndex","forEach","component"],"mappings":"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","file":"static/js/PostManage.06874e51.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-lx-cascades\"}),_vm._v(\" 帖子管理 \")])],1)],1),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"handle-box\"},[_c('el-input',{staticClass:\"handle-input mr10\",attrs:{\"placeholder\":\"输入关键词\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSearch($event)}},model:{value:(_vm.inputKey),callback:function ($$v) {_vm.inputKey=$$v},expression:\"inputKey\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.handleRefresh}},[_vm._v(\"刷新\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"搜索\")]),_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-s-flag\"},on:{\"click\":_vm.handleViewAll}},[_vm._v(\"标记此页已读\")]),_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-upload2\"},on:{\"click\":_vm.handleAddManyToCouplet}},[_vm._v(\"将所选入库\")])],1),_c('el-table',{ref:\"multipleTable\",staticClass:\"table\",attrs:{\"data\":_vm.postList,\"border\":\"\",\"header-cell-class-name\":\"table-header\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"min-width\":\"100\",\"label\":\"是否已读\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.postStatus == 0)?_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"未读\")]):_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"已读\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"postTitle\",\"label\":\"帖子标题\",\"min-width\":\"200\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"postUserName\",\"label\":\"帖子作者\",\"min-width\":\"100\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"postFirstLine\",\"label\":\"帖子上联\",\"min-width\":\"300\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"postSecondLine\",\"label\":\"帖子下联\",\"min-width\":\"300\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"postCreateTime\",\"width\":\"160\",\"label\":\"创作时间\",\"align\":\"center\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\",\"align\":\"center\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.postList[scope.$index].postStatus !== '2')?_c('el-button',{staticStyle:{\"color\":\"orange\"},attrs:{\"type\":\"text\",\"icon\":\"el-icon-upload2\"},on:{\"click\":function($event){return _vm.handleAddToCouplet(scope.$index, scope.row)}}},[_vm._v(\"加入楹联库\")]):_c('el-button',{staticStyle:{\"color\":\"rgb(144, 147, 153)\"},attrs:{\"disabled\":\"\",\"type\":\"text\",\"icon\":\"el-icon-upload2\"}},[_vm._v(\"已在楹联库\")]),_c('el-button',{staticClass:\"red\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next\",\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"total\":_vm.total},on:{\"current-change\":_vm.handlePageChange,\"prev-click\":_vm.handlePagePrev,\"next-click\":_vm.handlePageNext}})],1)],1),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.addToCoupletVisible,\"width\":\"45%\",\"show-close\":false,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.addToCoupletVisible=$event}}},[_c('div',{staticStyle:{\"font-size\":\"18px\",\"font-weight\":\"600\",\"padding-bottom\":\"30px\"}},[_vm._v(\"该帖子将加入楹联库，确定要继续吗？\")]),_c('el-checkbox',{model:{value:(_vm.isSendNotice),callback:function ($$v) {_vm.isSendNotice=$$v},expression:\"isSendNotice\"}},[_vm._v(\"是否自动发送如下通知\")]),_c('el-descriptions',{staticStyle:{\"padding-top\":\"10px\"},attrs:{\"column\":1,\"border\":\"\"}},[_c('el-descriptions-item',{attrs:{\"label\":\"通知标题\"}},[_vm._v(_vm._s(_vm.noticeForm.noticeTitle))]),_c('el-descriptions-item',{attrs:{\"label\":\"通知内容\"}},[_vm._v(_vm._s(_vm.noticeForm.noticeContent))])],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelAddToCouplet}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveAddToCouplet}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"crumbs\">\n            <el-breadcrumb separator=\"/\">\n                <el-breadcrumb-item> <i class=\"el-icon-lx-cascades\"></i> 帖子管理 </el-breadcrumb-item>\n            </el-breadcrumb>\n        </div>\n        <div class=\"container\">\n            <div class=\"handle-box\">\n                <el-input\n                    @keyup.enter.native=\"handleSearch\"\n                    v-model=\"inputKey\"\n                    placeholder=\"输入关键词\"\n                    class=\"handle-input mr10\"\n                ></el-input>\n                <el-button type=\"primary\" icon=\"el-icon-refresh\" @click=\"handleRefresh\">刷新</el-button>\n                <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleSearch\">搜索</el-button>\n                <el-button type=\"success\" icon=\"el-icon-s-flag\" @click=\"handleViewAll\">标记此页已读</el-button>\n                <el-button type=\"warning\" icon=\"el-icon-upload2\" @click=\"handleAddManyToCouplet\">将所选入库</el-button>\n            </div>\n            <el-table\n                :data=\"postList\"\n                border\n                class=\"table\"\n                ref=\"multipleTable\"\n                header-cell-class-name=\"table-header\"\n                @selection-change=\"handleSelectionChange\"\n            >\n                <el-table-column type=\"selection\" width=\"55\"> </el-table-column>\n                <el-table-column align=\"center\" min-width=\"100\" label=\"是否已读\">\n                    <template slot-scope=\"scope\">\n                        <el-tag v-if=\"scope.row.postStatus == 0\" type=\"danger\">未读</el-tag>\n                        <el-tag v-else type=\"info\">已读</el-tag>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"postTitle\" label=\"帖子标题\" min-width=\"200\" align=\"center\"></el-table-column>\n                <el-table-column prop=\"postUserName\" label=\"帖子作者\" min-width=\"100\" align=\"center\"></el-table-column>\n                <el-table-column prop=\"postFirstLine\" label=\"帖子上联\" min-width=\"300\" align=\"center\"></el-table-column>\n                <el-table-column prop=\"postSecondLine\" label=\"帖子下联\" min-width=\"300\" align=\"center\"></el-table-column>\n                <el-table-column prop=\"postCreateTime\" width=\"160\" label=\"创作时间\" align=\"center\" sortable></el-table-column>\n                <el-table-column label=\"操作\" width=\"180\" align=\"center\" fixed=\"right\">\n                    <template slot-scope=\"scope\">\n                        <el-button\n                            style=\"color: orange\"\n                            v-if=\"postList[scope.$index].postStatus !== '2'\"\n                            type=\"text\"\n                            icon=\"el-icon-upload2\"\n                            @click=\"handleAddToCouplet(scope.$index, scope.row)\"\n                            >加入楹联库</el-button\n                        >\n                        <el-button style=\"color: rgb(144, 147, 153)\" v-else disabled type=\"text\" icon=\"el-icon-upload2\"\n                            >已在楹联库</el-button\n                        >\n                        <el-button type=\"text\" icon=\"el-icon-delete\" class=\"red\" @click=\"handleDelete(scope.$index, scope.row)\"\n                            >删除</el-button\n                        >\n                    </template>\n                </el-table-column>\n            </el-table>\n            <div class=\"pagination\">\n                <el-pagination\n                    background\n                    layout=\"total, prev, pager, next\"\n                    :current-page=\"currentPage\"\n                    :page-size=\"pageSize\"\n                    :total=\"total\"\n                    @current-change=\"handlePageChange\"\n                    @prev-click=\"handlePagePrev\"\n                    @next-click=\"handlePageNext\"\n                ></el-pagination>\n            </div>\n        </div>\n        <el-dialog title=\"提示\" :visible.sync=\"addToCoupletVisible\" width=\"45%\" :show-close=\"false\" :close-on-click-modal=\"false\">\n            <div style=\"font-size: 18px; font-weight: 600; padding-bottom: 30px\">该帖子将加入楹联库，确定要继续吗？</div>\n            <el-checkbox v-model=\"isSendNotice\">是否自动发送如下通知</el-checkbox>\n            <el-descriptions :column=\"1\" style=\"padding-top: 10px\" border>\n                <el-descriptions-item label=\"通知标题\">{{ noticeForm.noticeTitle }}</el-descriptions-item>\n                <el-descriptions-item label=\"通知内容\">{{ noticeForm.noticeContent }}</el-descriptions-item>\n            </el-descriptions>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"cancelAddToCouplet\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"saveAddToCouplet\">确 定</el-button>\n            </span>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport utils from '../../../utils/utils.js';\nexport default {\n    name: 'PostManage',\n    data() {\n        return {\n            inputKey: '',\n            postList: [],\n            currentPage: 1,\n            pageSize: 10,\n            total: 0,\n\n            noticeForm: '',\n\n            // 多选项数组\n            multipleSelection: [],\n\n            addToCoupletIndex: -1,\n            addToCoupletForm: {},\n            addToCoupletVisible: false,\n            isSendNotice: true\n        };\n    },\n    activated() {\n        this.noticeForm = utils.getNoticeTemplate(1);\n        this.inputKey = '';\n        this.currentPage = 1;\n        this.getPostList();\n    },\n    methods: {\n        async getPostList() {\n            let params = {\n                pageSize: this.pageSize,\n                currentPage: this.currentPage,\n                inputKey: this.inputKey\n            };\n            try {\n                const res = await this.$api.post.getPostList(params);\n                this.postList = res.postList;\n                this.total = res.total;\n            } catch (error) {\n                this.$message({\n                    message: '获取帖子列表失败',\n                    duration: 2000,\n                    type: 'error'\n                });\n                console.log(error);\n            }\n        },\n\n        // 触发刷新\n        handleRefresh() {\n            let messageObject = this.$message('刷新中');\n            this.currentPage = 1;\n            this.inputKey = '';\n            this.getPostList();\n            messageObject.close();\n        },\n\n        // 触发搜索按钮\n        handleSearch() {\n            this.currentPage = 1;\n            this.getPostList();\n        },\n\n        // 页数改变触发\n        handlePageChange(val) {\n            this.currentPage = val;\n            this.getPostList();\n        },\n\n        // 上一页\n        handlePagePrev() {\n            this.currentPage--;\n        },\n\n        // 下一页\n        handlePageNext() {\n            this.currentPage++;\n        },\n\n        // 删除帖子\n        handleDelete(index, row) {\n            let sendNotice = row.postUserId;\n            let postTitle = row.postTitle;\n            this.$confirm('该帖子将永远删除，确定要继续吗？\\r\\n删除后将会自动发送一条删除通知给用户', '提示', {\n                type: 'warning',\n                confirmButtonText: '确定',\n                cancelButtonText: '取消'\n            })\n                .then(async () => {\n                    let params = {\n                        postId: row.postId\n                    };\n                    try {\n                        await this.$api.post.deletePost(params);\n                        this.$message({\n                            message: '删除成功',\n                            type: 'success',\n                            duration: 2000\n                        });\n                        // 重新获取该页数据\n                        this.getPostList();\n                        setTimeout(() => {\n                            utils.sendNotice(sendNotice, 7, postTitle);\n                        }, 1000);\n                    } catch (error) {\n                        this.$message({\n                            message: '删除失败',\n                            type: 'error',\n                            duration: 2000\n                        });\n                        console.log(error);\n                    }\n                })\n                .catch(() => {\n                    this.$message({\n                        message: '操作已取消',\n                        type: 'info',\n                        duration: 1500\n                    });\n                });\n        },\n\n        cancelAddToCouplet() {\n            this.addToCoupletVisible = false;\n            this.$message({\n                message: '操作已取消',\n                duration: 1500,\n                type: 'info'\n            });\n            this.$refs['addToCoupletForm'].clearValidate();\n        },\n\n        handleAddToCouplet(index, row) {\n            this.addToCoupletVisible = true;\n            this.addToCoupletForm = JSON.parse(JSON.stringify(row));\n            this.addToCoupletIndex = index;\n            this.noticeForm.setPostTitle(this.addToCoupletForm.postTitle);\n            this.isSendNotice = true;\n        },\n\n        async saveAddToCouplet() {\n            this.addToCoupletVisible = false;\n            let params = {\n                coupletId: this.addToCoupletForm.postId, // 这里取名是为了方便后端接收，本来应该是postId,让后端去修改post表的数据\n                coupletTitle: this.addToCoupletForm.postTitle,\n                coupletFirstLine: this.addToCoupletForm.postFirstLine,\n                coupletSecondLine: this.addToCoupletForm.postSecondLine,\n                coupletAuthorId: this.addToCoupletForm.postUserId,\n                coupletAuthorName: this.addToCoupletForm.postUserName,\n                coupletDynasty: '当代',\n                coupletTypeId: this.addToCoupletForm.postTypeId,\n                coupletFrom: '创作',\n                coupletAppreaciation: this.addToCoupletForm.postAppreaciation,\n                coupletExplanation: this.addToCoupletForm.postExplanation\n            };\n            try {\n                await this.$api.post.addToCouplet(params);\n                this.$message({\n                    message: '入库成功',\n                    type: 'success',\n                    duration: 2000\n                });\n                // 将加入楹联家图标去掉\n                this.postList[this.addToCoupletIndex].postStatus = '2';\n                if (this.isSendNotice) {\n                    setTimeout(() => {\n                        utils.sendNotice(this.addToCoupletForm.postUserId, 1, this.addToCoupletForm.postTitle);\n                    }, 1000);\n                }\n            } catch (error) {\n                this.$message({\n                    message: '入库失败',\n                    type: 'error',\n                    duration: 2000\n                });\n                console.log(error);\n            }\n        },\n\n        async handleViewAll() {\n            let postViewList = [];\n            this.postList.forEach((item, index) => {\n                postViewList.push(item.postId);\n            });\n            let params = {\n                postViewList: postViewList\n            };\n            try {\n                await this.$api.post.viewAll(params);\n                this.$message({\n                    message: '标记已读成功',\n                    duration: 2000,\n                    type: 'success'\n                });\n                this.postList.forEach((item, index) => {\n                    if (item.postStatus == 0) {\n                        this.$set(this.postList[index], 'postStatus', '1');\n                    }\n                });\n            } catch (error) {\n                console.log(error);\n                this.$message({\n                    message: '标记已读失败',\n                    duration: 2000,\n                    type: 'error'\n                });\n            }\n        },\n\n        handleSelectionChange(val) {\n            this.multipleSelection = val;\n        },\n        handleAddManyToCouplet() {\n            this.$confirm('确定将所选帖子加入对联库吗？', '提示', {\n                type: 'warning',\n                confirmButtonText: '确定',\n                cancelButtonText: '取消'\n            })\n                .then(async () => {\n                    let params = [];\n                    this.multipleSelection.forEach((item) => {\n                        if (item.postStatus !== '2') {\n                            let param = {\n                                coupletId: item.postId,\n                                coupletTitle: item.postTitle,\n                                coupletFirstLine: item.postFirstLine,\n                                coupletSecondLine: item.postSecondLine,\n                                coupletAuthorId: item.postUserId,\n                                coupletAuthorName: item.postUserName,\n                                coupletDynasty: '当代',\n                                coupletTypeId: item.postTypeId,\n                                coupletFrom: '创作',\n                                coupletAppreaciation: item.postAppreaciation,\n                                coupletExplanation: item.postExplanation\n                            };\n                            params.push(param);\n                        }\n                    });\n                    try {\n                        // let req = {\n                        //     postArray: params\n                        // };\n                        await this.$api.post.addManyToCouplet(params);\n                        this.$message({\n                            message: '入库成功',\n                            type: 'success',\n                            duration: 2000\n                        });\n                        this.multipleSelection.forEach((item, index) => {\n                            if (item.postStatus !== '2') {\n                                this.$set(this.postList[index], 'postStatus', '2');\n                            }\n                        });\n                    } catch (error) {\n                        this.$message({\n                            message: '入库失败',\n                            type: 'error',\n                            duration: 2000\n                        });\n                        console.log(error);\n                    }\n                })\n                .catch(() => {\n                    this.$message({\n                        message: '操作已取消',\n                        type: 'info',\n                        duration: 1500\n                    });\n                });\n        }\n    }\n};\n</script>\n\n<style scoped>\n.handle-box {\n    margin-bottom: 20px;\n}\n\n.handle-select {\n    width: 120px;\n}\n\n.handle-input {\n    width: 300px;\n    display: inline-block;\n}\n.table {\n    width: 100%;\n    font-size: 14px;\n}\n.red {\n    color: #ff0000;\n}\n.mr10 {\n    margin-right: 10px;\n}\n.table-td-thumb {\n    display: block;\n    margin: auto;\n    width: 40px;\n    height: 40px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PostManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PostManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PostManage.vue?vue&type=template&id=75109728&scoped=true&\"\nimport script from \"./PostManage.vue?vue&type=script&lang=js&\"\nexport * from \"./PostManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PostManage.vue?vue&type=style&index=0&id=75109728&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75109728\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PostManage.vue?vue&type=style&index=0&id=75109728&scoped=true&lang=css&\""],"sourceRoot":""}