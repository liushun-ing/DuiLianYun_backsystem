{"version":3,"sources":["webpack:///./src/components/page/competition_about/AwardDistribute.vue?dd28","webpack:///src/components/page/competition_about/AwardDistribute.vue","webpack:///./src/components/page/competition_about/AwardDistribute.vue?282f","webpack:///./src/components/page/competition_about/AwardDistribute.vue","webpack:///./src/components/page/competition_about/AwardDistribute.vue?2615"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","changeCompetitionOptions","model","value","callback","$$v","selectedCompetitionId","expression","_l","item","key","label","staticStyle","handleRefresh","ref","distributeList","emptyText","scopedSlots","_u","fn","scope","_s","row","manuscriptContent","comment1","comment2","awardDetail","_e","awardContent","status","$event","handleAward","$index","handleView","currentPage","pageSize","total","handlePageChange","handlePagePrev","handlePageNext","awardVisible","awardLeftForm","score1","score2","domProps","awardRightForm","rules","$set","awardToolbars","changeContent","slot","cancelAward","saveAward","viewVisible","viewForm","awardContentMarkdown","staticRenderFns","competitionList","sortByTime","res","forEach","competitionOptions","options","$message","console","log","component"],"mappings":"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","file":"static/js/AwardDistribute.bcca55f8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-lx-cascades\"}),_vm._v(\" 奖项分配\\n            \")])],1)],1),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"handle-box\"},[_vm._v(\"\\n            请选择比赛场次: \\n            \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.changeCompetitionOptions},model:{value:(_vm.selectedCompetitionId),callback:function ($$v) {_vm.selectedCompetitionId=$$v},expression:\"selectedCompetitionId\"}},_vm._l((_vm.competitionOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('el-button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.handleRefresh}},[_vm._v(\"刷新\")])],1),_c('el-table',{ref:\"multipleTable\",staticClass:\"table\",attrs:{\"data\":_vm.distributeList,\"border\":\"\",\"empty-text\":_vm.emptyText,\"header-cell-class-name\":\"table-header\"}},[_c('el-table-column',{attrs:{\"label\":\"作品\",\"align\":\"center\",\"min-width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"limit_wrap\"},[_vm._v(_vm._s(scope.row.manuscriptContent))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"score1\",\"label\":\"一审得分\",\"min-width\":\"80\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"一审评语\",\"align\":\"center\",\"min-width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"limit_wrap\"},[_vm._v(_vm._s(scope.row.comment1))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"score2\",\"label\":\"二审得分\",\"min-width\":\"80\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"二审评语\",\"align\":\"center\",\"min-width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"limit_wrap\"},[_vm._v(_vm._s(scope.row.comment2))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"获奖情况\",\"min-width\":\"80\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.awardDetail)?_c('div',[_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(_vm._s(scope.row.awardDetail))])],1):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"获奖作品\",\"align\":\"center\",\"min-width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"limit_wrap\"},[_vm._v(_vm._s(scope.row.awardContent))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\",\"align\":\"center\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status === '0')?_c('div',[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.handleAward(scope.$index, scope.row)}}},[_vm._v(\"评奖\")])],1):_c('div',[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-view\"},on:{\"click\":function($event){return _vm.handleView(scope.$index, scope.row)}}},[_vm._v(\"查看\")])],1)]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next\",\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"total\":_vm.total},on:{\"current-change\":_vm.handlePageChange,\"prev-click\":_vm.handlePagePrev,\"next-click\":_vm.handlePageNext}})],1)],1),_c('el-dialog',{attrs:{\"title\":\"评选\",\"visible\":_vm.awardVisible,\"width\":\"70%\",\"show-close\":false,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.awardVisible=$event}}},[_c('div',{staticClass:\"award_wrap\"},[_c('div',{staticClass:\"award_left\"},[_c('el-descriptions',{attrs:{\"direction\":\"vertical\",\"column\":2,\"border\":\"\"}},[_c('el-descriptions-item',{attrs:{\"label\":\"一审得分\"}},[_vm._v(_vm._s(_vm.awardLeftForm.score1))]),_c('el-descriptions-item',{attrs:{\"label\":\"二审得分\"}},[_vm._v(_vm._s(_vm.awardLeftForm.score2))]),_c('el-descriptions-item',{attrs:{\"label\":\"一审评语\"}},[_vm._v(_vm._s(_vm.awardLeftForm.comment1))]),_c('el-descriptions-item',{attrs:{\"label\":\"二审评语\"}},[_vm._v(_vm._s(_vm.awardLeftForm.comment2))]),_c('el-descriptions-item',{attrs:{\"label\":\"投稿内容\"}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.awardLeftForm.manuscriptContent)}})])],1)],1),_c('div',{staticClass:\"award_right\"},[_c('el-form',{ref:\"awardRightForm\",attrs:{\"model\":_vm.awardRightForm,\"rules\":_vm.rules}},[_c('el-descriptions',{attrs:{\"direction\":\"vertical\",\"column\":1,\"border\":\"\"}},[_c('el-descriptions-item',{attrs:{\"label\":\"选择奖项\"}},[_c('el-form-item',{attrs:{\"prop\":\"awardDetail\"}},[_c('el-radio-group',{model:{value:(_vm.awardRightForm.awardDetail),callback:function ($$v) {_vm.$set(_vm.awardRightForm, \"awardDetail\", $$v)},expression:\"awardRightForm.awardDetail\"}},[_c('el-radio',{attrs:{\"label\":\"特等奖\"}},[_vm._v(\"特等奖\")]),_c('el-radio',{attrs:{\"label\":\"一等奖\"}},[_vm._v(\"一等奖\")]),_c('el-radio',{attrs:{\"label\":\"二等奖\"}},[_vm._v(\"二等奖\")]),_c('el-radio',{attrs:{\"label\":\"三等奖\"}},[_vm._v(\"三等奖\")])],1)],1)],1),_c('el-descriptions-item',{attrs:{\"label\":\"挑选获奖部分(注意排版哟)，可点击工具栏右侧预览查看最终效果\"}},[_c('el-form-item',{attrs:{\"prop\":\"awardContent\"}},[_c('mavon-editor',{ref:\"md\",attrs:{\"toolbars\":_vm.awardToolbars,\"subfield\":false,\"autofocus\":false},on:{\"change\":_vm.changeContent},model:{value:(_vm.awardRightForm.awardContentMarkdown),callback:function ($$v) {_vm.$set(_vm.awardRightForm, \"awardContentMarkdown\", $$v)},expression:\"awardRightForm.awardContentMarkdown\"}})],1)],1)],1)],1)],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelAward}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.saveAward('awardRightForm')}}},[_vm._v(\"确 定\")])],1)]),_c('el-dialog',{attrs:{\"title\":\"查看\",\"visible\":_vm.viewVisible,\"width\":\"70%\"},on:{\"update:visible\":function($event){_vm.viewVisible=$event}}},[_c('div',{staticClass:\"award_wrap\"},[_c('div',{staticClass:\"award_left\"},[_c('el-descriptions',{attrs:{\"direction\":\"vertical\",\"column\":2,\"border\":\"\"}},[_c('el-descriptions-item',{attrs:{\"label\":\"一审得分\"}},[_vm._v(_vm._s(_vm.viewForm.score1))]),_c('el-descriptions-item',{attrs:{\"label\":\"二审得分\"}},[_vm._v(_vm._s(_vm.viewForm.score2))]),_c('el-descriptions-item',{attrs:{\"label\":\"一审评语\"}},[_vm._v(_vm._s(_vm.viewForm.comment1))]),_c('el-descriptions-item',{attrs:{\"label\":\"二审评语\"}},[_vm._v(_vm._s(_vm.viewForm.comment2))]),_c('el-descriptions-item',{attrs:{\"label\":\"投稿内容\"}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.viewForm.manuscriptContent)}})])],1)],1),_c('div',{staticClass:\"award_right\"},[_c('el-descriptions',{attrs:{\"direction\":\"vertical\",\"column\":1,\"border\":\"\"}},[_c('el-descriptions-item',{attrs:{\"label\":\"获奖奖项\"}},[_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(_vm._s(_vm.viewForm.awardDetail))])],1),_c('el-descriptions-item',{attrs:{\"label\":\"获奖部分作品\"}},[_c('mavon-editor',{staticClass:\"md\",attrs:{\"value\":_vm.viewForm.awardContentMarkdown,\"subfield\":false,\"defaultOpen\":'preview',\"toolbarsFlag\":false,\"editable\":false,\"scrollStyle\":true,\"ishljs\":true}})],1)],1)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"crumbs\">\n            <el-breadcrumb separator=\"/\">\n                <el-breadcrumb-item>\n                    <i class=\"el-icon-lx-cascades\"></i> 奖项分配\n                </el-breadcrumb-item>\n            </el-breadcrumb>\n        </div>\n        <div class=\"container\">\n            <div class=\"handle-box\">\n                请选择比赛场次:&nbsp;\n                <el-select v-model=\"selectedCompetitionId\" placeholder=\"请选择\" @change=\"changeCompetitionOptions\">\n                    <el-option\n                    v-for=\"item in competitionOptions\"\n                    :key=\"item.value\"\n                    :label=\"item.label\"\n                    :value=\"item.value\">\n                    </el-option>\n                </el-select>\n                <el-button type=\"primary\" icon=\"el-icon-refresh\" style=\"margin-left: 20px;\" @click=\"handleRefresh\">刷新</el-button>\n            </div>\n            <el-table\n                :data=\"distributeList\"\n                border\n                class=\"table\"\n                :empty-text=\"emptyText\"\n                ref=\"multipleTable\"\n                header-cell-class-name=\"table-header\"\n            >\n                <el-table-column label=\"作品\" align=\"center\" min-width=\"300\">\n                    <template slot-scope=\"scope\">\n                        <div class=\"limit_wrap\">{{scope.row.manuscriptContent}}</div>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"score1\" label=\"一审得分\" min-width=\"80\" align=\"center\"></el-table-column>\n                <el-table-column label=\"一审评语\" align=\"center\" min-width=\"200\">\n                    <template slot-scope=\"scope\">\n                        <div class=\"limit_wrap\">{{scope.row.comment1}}</div>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"score2\" label=\"二审得分\" min-width=\"80\" align=\"center\"></el-table-column>\n                <el-table-column label=\"二审评语\" align=\"center\" min-width=\"200\">\n                    <template slot-scope=\"scope\">\n                        <div class=\"limit_wrap\">{{scope.row.comment2}}</div>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"获奖情况\" min-width=\"80\" align=\"center\">\n                    <template slot-scope=\"scope\">\n                        <div v-if=\"scope.row.awardDetail\">\n                            <el-tag\n                                type=\"danger\"\n                            >{{scope.row.awardDetail}}</el-tag>\n                        </div>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"获奖作品\" align=\"center\" min-width=\"250\">\n                    <template slot-scope=\"scope\">\n                        <div class=\"limit_wrap\">{{scope.row.awardContent}}</div>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"操作\" width=\"100\" align=\"center\" fixed=\"right\">\n                    <template slot-scope=\"scope\">\n                        <div v-if=\"scope.row.status === '0'\">\n                            <el-button\n                                type=\"text\"\n                                icon=\"el-icon-edit\"\n                                @click=\"handleAward(scope.$index, scope.row)\"\n                            >评奖</el-button>\n                        </div>\n                        <div v-else>\n                            <el-button\n                                type=\"text\"\n                                icon=\"el-icon-view\"\n                                @click=\"handleView(scope.$index, scope.row)\"\n                            >查看</el-button>\n                        </div>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <div class=\"pagination\">\n                <el-pagination\n                    background\n                    layout=\"total, prev, pager, next\"\n                    :current-page=\"currentPage\"\n                    :page-size=\"pageSize\"\n                    :total=\"total\"\n                    @current-change=\"handlePageChange\"\n                    @prev-click=\"handlePagePrev\"\n                    @next-click=\"handlePageNext\"\n                ></el-pagination>\n            </div>\n        </div>\n\n        <el-dialog title=\"评选\" :visible.sync=\"awardVisible\" width=\"70%\" :show-close=\"false\" :close-on-click-modal=\"false\">\n            <div class=\"award_wrap\">\n                <div class=\"award_left\">\n                    <el-descriptions direction=\"vertical\" :column=\"2\" border>\n                        <el-descriptions-item label=\"一审得分\">{{awardLeftForm.score1}}</el-descriptions-item>\n                        <el-descriptions-item label=\"二审得分\">{{awardLeftForm.score2}}</el-descriptions-item>\n                        <el-descriptions-item label=\"一审评语\">{{awardLeftForm.comment1}}</el-descriptions-item>\n                        <el-descriptions-item label=\"二审评语\">{{awardLeftForm.comment2}}</el-descriptions-item>\n                        <el-descriptions-item label=\"投稿内容\">\n                            <div v-html=\"awardLeftForm.manuscriptContent\"></div>\n                        </el-descriptions-item>\n                    </el-descriptions>             \n                </div>\n                <div class=\"award_right\">\n                    <el-form ref=\"awardRightForm\" :model=\"awardRightForm\" :rules=\"rules\">\n                        <el-descriptions direction=\"vertical\" :column=\"1\" border>\n                            <el-descriptions-item label=\"选择奖项\">            \n                                <el-form-item prop=\"awardDetail\">\n                                    <el-radio-group v-model=\"awardRightForm.awardDetail\">\n                                        <el-radio label=\"特等奖\">特等奖</el-radio>\n                                        <el-radio label=\"一等奖\">一等奖</el-radio>\n                                        <el-radio label=\"二等奖\">二等奖</el-radio>\n                                        <el-radio label=\"三等奖\">三等奖</el-radio>\n                                    </el-radio-group>\n                                </el-form-item>            \n                            </el-descriptions-item>\n                            <el-descriptions-item label=\"挑选获奖部分(注意排版哟)，可点击工具栏右侧预览查看最终效果\">\n                                <el-form-item prop=\"awardContent\">\n                                    <mavon-editor v-model=\"awardRightForm.awardContentMarkdown\" @change=\"changeContent\" :toolbars=\"awardToolbars\" :subfield=\"false\" :autofocus=\"false\" ref=\"md\"/>\n                                </el-form-item>\n                            </el-descriptions-item>\n                        </el-descriptions>\n                    </el-form>               \n                </div>\n            </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"cancelAward\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"saveAward('awardRightForm')\">确 定</el-button>\n            </span>  \n        </el-dialog>\n\n        <el-dialog title=\"查看\" :visible.sync=\"viewVisible\" width=\"70%\">\n            <div class=\"award_wrap\">\n                <div class=\"award_left\">\n                    <el-descriptions direction=\"vertical\" :column=\"2\" border>\n                        <el-descriptions-item label=\"一审得分\">{{viewForm.score1}}</el-descriptions-item>\n                        <el-descriptions-item label=\"二审得分\">{{viewForm.score2}}</el-descriptions-item>\n                        <el-descriptions-item label=\"一审评语\">{{viewForm.comment1}}</el-descriptions-item>\n                        <el-descriptions-item label=\"二审评语\">{{viewForm.comment2}}</el-descriptions-item>\n                        <el-descriptions-item label=\"投稿内容\">\n                            <div v-html=\"viewForm.manuscriptContent\"></div>\n                        </el-descriptions-item>\n                    </el-descriptions>            \n                </div>\n                <div class=\"award_right\">\n                    <el-descriptions direction=\"vertical\" :column=\"1\" border>\n                        <el-descriptions-item label=\"获奖奖项\">            \n                            <el-tag type=\"danger\">{{viewForm.awardDetail}}</el-tag>        \n                        </el-descriptions-item>\n                        <el-descriptions-item label=\"获奖部分作品\">\n                            <mavon-editor\n                                class=\"md\"\n                                :value=\"viewForm.awardContentMarkdown\"\n                                :subfield=\"false\"\n                                :defaultOpen=\"'preview'\"\n                                :toolbarsFlag=\"false\"\n                                :editable=\"false\"\n                                :scrollStyle=\"true\"\n                                :ishljs=\"true\"\n                                >\n                            </mavon-editor>\n                        </el-descriptions-item>\n                    </el-descriptions>            \n                </div>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport utils from '../../../utils/utils.js'\nexport default {\n    name: 'AwardDistribute',\n    data() {\n        return {\n            competitionList: [],\n            selectedCompetitionId: '',\n\n            competitionOptions: [],\n\n            awardToolbars: utils.awardToolbars,\n\n            distributeList: [],\n\n            emptyText: '暂无数据',\n\n            currentPage: 1,\n            pageSize: 10,\n            total: 0,\n            totalRecheck: 0,\n\n            awardVisible: false,\n            awardIndex: -1,\n            awardLeftForm: {},\n            awardRightForm: {},\n\n            viewVisible: false,\n            viewIndex: -1,\n            viewForm: {},\n\n            rules: {\n                awardDetail:[\n                    {required: true, message: '请选择奖项', trigger: 'blur'}\n                ],\n                awardContent:[\n                    {required: true, message: '请挑选获奖部分', trigger: 'blur'}\n                ],\n            }\n        };\n    },\n    activated() {\n        this.getCompetitionList();\n    },\n    methods: {\n        sortByTime(array) {\n            return array.sort(function(a, b) {\n                var time1 = new Date(a.createTime).getTime();\n                var time2 = new Date(b.createtime).getTime();\n                return time1 > time2 ? -1 : time1 < time2 ? 1 : 0;\n            })\n        },\n\n        async getCompetitionList() {\n            try {\n                const res = await this.$api.competition.getAllCompetition();\n                this.competitionList = this.sortByTime(res.competitionList);\n                // 将数据转换为下拉框，value是比赛id,label是名称\n                let options = [];\n                this.competitionList.forEach((item, index) => {\n                    options.push({\n                        value: item.competitionId,\n                        label: item.competitionName\n                    });                    \n                });\n                this.competitionOptions = options;\n            } catch (error) {\n                this.$message({\n                    message: '获取比赛列表失败',\n                    duration: 2000,\n                    type: 'error'\n                });\n                console.log(error);\n            }\n        },\n\n        // 选择比赛\n        async changeCompetitionOptions(value) {\n            if(value) {\n                this.selectedCompetitionId = value;\n                this.reset();\n                this.getDistributeList(); \n            }\n        },\n\n        async getDistributeList() {\n            let params = {\n                competitionId: this.selectedCompetitionId,\n                pageSize: this.pageSize,\n                currentPage: this.currentPage\n            };\n            try {\n                const res = await this.$api.competition.getDistributeList(params);\n                if(res.total == res.totalRecheck) {\n                    this.distributeList = res.distributeList;\n                    this.total = res.total;\n                    this.totalRecheck = res.totalRecheck;\n                } else {\n                    this.emptyText = '一审和二审还未结束噢!';\n                }\n            } catch (error) {\n                this.$message({\n                    message: '获取投稿列表失败',\n                    duration: 2000,\n                    type: 'error'\n                });\n                console.log(error);\n            }\n        },\n\n        handleRefresh() {\n            let messageObject = this.$message('刷新中');\n            this.getDistributeList();\n            messageObject.close();\n        },\n\n        handleView(index, row) {\n            this.viewIndex = index;\n            this.viewVisible = true;\n            let viewForm = JSON.parse(JSON.stringify(row));\n            viewForm.manuscriptContent = utils.formatText(viewForm.manuscriptContent);\n            this.viewForm = viewForm;\n        },\n\n        cancelAward() {\n            this.awardVisible = false;\n            this.$message({\n                message: '操作已取消',\n                duration: 1500,\n                type: 'info'\n            });\n            this.$refs['awardRightForm'].clearValidate();\n        },\n\n        handleAward(index, row){\n            this.awardIndex = index;\n            this.awardVisible = true;\n            let awardLeftForm = JSON.parse(JSON.stringify(row));\n            awardLeftForm.manuscriptContent = utils.formatText(awardLeftForm.manuscriptContent);\n            this.awardLeftForm = awardLeftForm;\n            this.awardRightForm = {\n                awardCompetitionId: '',\n                awardUserId: '',\n                awardManuscriptId: '',\n                awardContent: '',\n                awardContentMarkdown: '',\n                awardDetail: '',\n            }\n        },\n\n        changeContent(value, render) {\n            // 将render html转换为纯文本\n            // console.log(render);\n            // 去除所有的标签\n            let text = render.replace(/<\\/?[^>]*>/g, \"\");\n            // console.log(text);\n            this.awardRightForm.awardContent = text;\n        },\n\n        saveAward(formName) {\n            this.$refs[formName].validate(async valid => {\n                if(valid) {\n                    this.awardVisible = false;\n                    this.awardRightForm.awardCompetitionId = this.selectedCompetitionId;\n                    this.awardRightForm.awardUserId = this.awardLeftForm.manuscriptUserId;\n                    this.awardRightForm.awardManuscriptId = this.awardLeftForm.manuscriptId;\n                    try {\n                        await this.$api.competition.distributeAward(this.awardRightForm);\n                        this.$message({\n                            message: '分配奖项成功',\n                            duration: 2000,\n                            type: 'success'\n                        });\n                        this.$set(this.distributeList[this.awardIndex], 'awardDetail', this.awardRightForm.awardDetail);\n                        this.$set(this.distributeList[this.awardIndex], 'awardContent', this.awardRightForm.awardContent);\n                        this.$set(this.distributeList[this.awardIndex], 'awardContentMarkdown', this.awardRightForm.awardContentMarkdown);\n                        this.$set(this.distributeList[this.awardIndex], 'status', '1');\n                    } catch (error) {\n                        this.$message({\n                            message: '分配奖项失败',\n                            duration: 2000,\n                            type: 'error'\n                        });\n                    }\n                } else {\n                    console.log('设置奖项表单验证失败');\n                    return false;\n                }\n            });\n        },\n        // 分页导航\n        handlePageChange(val) {\n            this.currentPage = val;\n            this.getDistributeList();\n        },\n        handlePagePrev(){\n            this.currentPage--;\n        },\n        handlePageNext(){\n            this.currentPage++;\n        },\n        reset() {\n            this.distributeList = [];\n            this.currentPage = 1;\n            this.total = 0;\n            this.totalRecheck = 0;\n            this.awardVisible = false;\n            this.awardIndex = -1;\n            this.awardLeftForm = {};\n            this.awardRightForm = {};\n            this.viewVisible = false;\n            this.viewIndex = -1;\n            this.viewForm = {};\n        }\n    }\n};\n</script>\n\n<style scoped>\n.handle-box {\n    margin-bottom: 20px;\n    font-size: 14px;\n}\n\n.handle-select {\n    width: 120px;\n}\n\n.handle-input {\n    width: 300px;\n    display: inline-block;\n}\n.table {\n    width: 100%;\n    font-size: 14px;\n}\n.red {\n    color: #ff0000;\n}\n.mr10 {\n    margin-right: 10px;\n}\n.table-td-thumb {\n    display: block;\n    margin: auto;\n    width: 40px;\n    height: 40px;\n}\n.limit_wrap {\n    overflow: hidden;\n    -webkit-line-clamp: 3;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n}\n/* .limit_wrap:hover {\n    display: block;\n} */\n.award_wrap {\n    display: flex;\n}\n.award_left {\n    flex: 1;\n    padding-right: 2px;\n}\n.award_right {\n    flex: 1;\n    padding-left: 2px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AwardDistribute.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AwardDistribute.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AwardDistribute.vue?vue&type=template&id=b457d1ec&scoped=true&\"\nimport script from \"./AwardDistribute.vue?vue&type=script&lang=js&\"\nexport * from \"./AwardDistribute.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AwardDistribute.vue?vue&type=style&index=0&id=b457d1ec&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b457d1ec\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AwardDistribute.vue?vue&type=style&index=0&id=b457d1ec&scoped=true&lang=css&\""],"sourceRoot":""}