{"version":3,"sources":["webpack:///./src/components/page/couplet_about/CoupletAdd.vue?e0f4","webpack:///./src/components/page/couplet_about/CoupletAdd.vue?512e","webpack:///src/components/page/couplet_about/CoupletAdd.vue","webpack:///./src/components/page/couplet_about/CoupletAdd.vue?0f32","webpack:///./src/components/page/couplet_about/CoupletAdd.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","path","_v","on","reset","$event","submit","ref","coupletForm","rules","model","value","callback","$$v","$set","expression","staticStyle","_l","item","key","label","minRows","loseBlur","getFocus","staticRenderFns","coupletTypeList","res","map","$message","console","log","component"],"mappings":"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","file":"static/js/CoupletAdd.31347a29.js","sourcesContent":["export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CoupletAdd.vue?vue&type=style&index=0&id=22556b00&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\">\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/couplet_about/MasterManage' }}},[_c('i',{staticClass:\"el-icon-lx-cascades\"}),_vm._v(\" 楹联家管理\\n            \")]),_c('el-breadcrumb-item',[_vm._v(\"\\n                添加楹联\\n            \")])],1)],1),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"title_and_action\"},[_c('div',{staticClass:\"title_wrap\"},[_vm._v(\"楹联添加\")]),_c('div',[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('coupletForm')}}},[_vm._v(\"添加楹联\")])],1)]),_c('el-form',{ref:\"coupletForm\",attrs:{\"model\":_vm.coupletForm,\"rules\":_vm.rules}},[_c('el-descriptions',{attrs:{\"direction\":\"vertical\",\"column\":4,\"border\":\"\",\"size\":\"medium\"}},[_c('el-descriptions-item',{attrs:{\"label\":\"作者\",\"span\":1}},[_c('el-form-item',{attrs:{\"prop\":\"coupletAuthorName\"}},[_c('el-input',{attrs:{\"readonly\":true},model:{value:(_vm.coupletForm.coupletAuthorName),callback:function ($$v) {_vm.$set(_vm.coupletForm, \"coupletAuthorName\", $$v)},expression:\"coupletForm.coupletAuthorName\"}})],1)],1),_c('el-descriptions-item',{attrs:{\"label\":\"朝代\",\"span\":1}},[_c('el-form-item',{attrs:{\"prop\":\"coupletDynasty\"}},[_c('el-input',{attrs:{\"readonly\":true},model:{value:(_vm.coupletForm.coupletDynasty),callback:function ($$v) {_vm.$set(_vm.coupletForm, \"coupletDynasty\", $$v)},expression:\"coupletForm.coupletDynasty\"}})],1)],1),_c('el-descriptions-item',{attrs:{\"label\":\"类型\",\"span\":1}},[_c('el-form-item',{attrs:{\"prop\":\"coupletTypeId\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择类型\"},model:{value:(_vm.coupletForm.coupletTypeId),callback:function ($$v) {_vm.$set(_vm.coupletForm, \"coupletTypeId\", $$v)},expression:\"coupletForm.coupletTypeId\"}},_vm._l((_vm.coupletTypeList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_c('el-descriptions-item',{attrs:{\"label\":\"出处\",\"span\":1}},[_c('el-form-item',{attrs:{\"prop\":\"coupletFrom\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入楹联出处\"},model:{value:(_vm.coupletForm.coupletFrom),callback:function ($$v) {_vm.$set(_vm.coupletForm, \"coupletFrom\", $$v)},expression:\"coupletForm.coupletFrom\"}})],1)],1),_c('el-descriptions-item',{attrs:{\"label\":\"标题+上联+下联（以标题，上联，下联顺序，换行分隔）\",\"span\":2}},[_c('el-form-item',{attrs:{\"prop\":\"titleAndCoupletText\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 4},\"placeholder\":\"请输入标题和上下联\"},on:{\"blur\":_vm.loseBlur,\"focus\":_vm.getFocus},model:{value:(_vm.coupletForm.titleAndCoupletText),callback:function ($$v) {_vm.$set(_vm.coupletForm, \"titleAndCoupletText\", $$v)},expression:\"coupletForm.titleAndCoupletText\"}})],1)],1),_c('el-descriptions-item',{attrs:{\"label\":\"注释\",\"span\":1}},[_c('el-form-item',{attrs:{\"prop\":\"coupletExplanation\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 4},\"placeholder\":\"请输入楹联注释\"},model:{value:(_vm.coupletForm.coupletExplanation),callback:function ($$v) {_vm.$set(_vm.coupletForm, \"coupletExplanation\", $$v)},expression:\"coupletForm.coupletExplanation\"}})],1)],1),_c('el-descriptions-item',{attrs:{\"label\":\"赏析\",\"span\":1}},[_c('el-form-item',{attrs:{\"prop\":\"coupletAppreaciation\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 4},\"placeholder\":\"请输入楹联赏析\"},model:{value:(_vm.coupletForm.coupletAppreaciation),callback:function ($$v) {_vm.$set(_vm.coupletForm, \"coupletAppreaciation\", $$v)},expression:\"coupletForm.coupletAppreaciation\"}})],1)],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"crumbs\">\n            <el-breadcrumb separator=\">\">\n                <el-breadcrumb-item :to=\"{ path: '/couplet_about/MasterManage' }\">\n                    <i class=\"el-icon-lx-cascades\"></i> 楹联家管理\n                </el-breadcrumb-item>\n                <el-breadcrumb-item>\n                    添加楹联\n                </el-breadcrumb-item>                      \n            </el-breadcrumb>\n        </div>\n        <div class=\"container\">\n            <div class=\"title_and_action\">\n                <div class=\"title_wrap\">楹联添加</div>\n                <div>\n                    <el-button type=\"warning\" @click=\"reset\">重置</el-button>  \n                    <el-button type=\"primary\" @click=\"submit('coupletForm')\">添加楹联</el-button>                  \n                </div>\n            </div>\n            <el-form ref=\"coupletForm\" :model=\"coupletForm\" :rules=\"rules\">\n                <el-descriptions direction=\"vertical\" :column=\"4\" border size=\"medium\">\n                    <el-descriptions-item label=\"作者\" :span=\"1\">\n                        <el-form-item prop=\"coupletAuthorName\">\n                            <el-input v-model=\"coupletForm.coupletAuthorName\" :readonly=\"true\"></el-input>\n                        </el-form-item>    \n                    </el-descriptions-item>\n                    <el-descriptions-item label=\"朝代\" :span=\"1\">\n                        <el-form-item prop=\"coupletDynasty\">\n                            <el-input v-model=\"coupletForm.coupletDynasty\" :readonly=\"true\"></el-input>\n                        </el-form-item>    \n                    </el-descriptions-item>\n                    <el-descriptions-item label=\"类型\" :span=\"1\">\n                        <el-form-item prop=\"coupletTypeId\">\n                            <el-select v-model=\"coupletForm.coupletTypeId\" placeholder=\"请选择类型\" style=\"width: 100%;\">\n                                <el-option\n                                    v-for=\"item in coupletTypeList\"\n                                    :key=\"item.value\"\n                                    :label=\"item.label\"\n                                    :value=\"item.value\">\n                                </el-option>\n                            </el-select>\n                        </el-form-item> \n                    </el-descriptions-item>\n                    <el-descriptions-item label=\"出处\" :span=\"1\">\n                        <el-form-item prop=\"coupletFrom\">\n                            <el-input v-model=\"coupletForm.coupletFrom\" placeholder=\"请输入楹联出处\"></el-input>\n                        </el-form-item>       \n                    </el-descriptions-item>\n                    <el-descriptions-item label=\"标题+上联+下联（以标题，上联，下联顺序，换行分隔）\" :span=\"2\">\n                        <el-form-item prop=\"titleAndCoupletText\">\n                            <el-input v-model=\"coupletForm.titleAndCoupletText\" type=\"textarea\" :autosize=\"{ minRows: 4}\" placeholder=\"请输入标题和上下联\" @blur=\"loseBlur\" @focus=\"getFocus\"></el-input>\n                        </el-form-item>     \n                    </el-descriptions-item>\n                    <el-descriptions-item label=\"注释\" :span=\"1\">\n                        <el-form-item prop=\"coupletExplanation\">\n                            <el-input type=\"textarea\" :autosize=\"{ minRows: 4}\" v-model=\"coupletForm.coupletExplanation\" placeholder=\"请输入楹联注释\"></el-input>\n                        </el-form-item>\n                    </el-descriptions-item>\n                    <el-descriptions-item label=\"赏析\" :span=\"1\">\n                        <el-form-item prop=\"coupletAppreaciation\">\n                            <el-input type=\"textarea\" :autosize=\"{ minRows: 4}\" v-model=\"coupletForm.coupletAppreaciation\" placeholder=\"请输入楹联赏析\"></el-input>\n                        </el-form-item>\n                    </el-descriptions-item>\n                </el-descriptions>\n            </el-form>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'CoupletAdd',\n    data() {\n        var validateData = (rule, value, callback) => {\n            if (value === '') {\n                callback(new Error('请输入标题和上下联'));\n            } else {\n                let titleAndLine = value.split(/[(\\r\\n)\\r\\n]+/);\n                titleAndLine = titleAndLine.filter((item, index) => {\n                    return item && item != '标题: ' && item != '上联: ' && item != '下联: ';\n                });\n                if(titleAndLine.length != 3) {\n                    callback(new Error('格式有误或输入不完全，匹配失败'));\n                } else {\n                    callback(); \n                }\n            }\n        };\n        return {\n            coupletForm: {\n                titleAndCoupletText: '',\n                coupletAuthorId: '',\n                coupletAuthorName: '',\n                coupletTitle: '',\n                coupletFrom: '',\n                coupletDynasty: '',\n                coupletFirstLine: '',\n                coupletSecondLine: '',\n                coupletTypeId: '',\n                coupletAppreaciation: '',\n                coupletExplanation: ''\n            },\n            tempData: '',\n            coupletTypeList: [],\n            rules: {\n                titleAndCoupletText:[\n                    {required: true, validator: validateData, trigger: ['change', 'blur']}\n                ],\n                coupletTypeId:[\n                    {required: true, message: '选择楹联类型', trigger: 'blur'}\n                ],\n                coupletFrom:[\n                    {required: true, message: '请输入楹联出处', trigger: 'blur'}\n                ],    \n                coupletAppreaciation:[\n                    {required: true, message: '请输入楹联赏析', trigger: 'blur'}\n                ],    \n                coupletExplanation:[\n                    {required: true, message: '请输入楹联注释', trigger: 'blur'}\n                ],   \n            }\n        };\n    },\n    activated() {\n        this.coupletForm.coupletAuthorId = this.$route.query.coupletAuthorId;\n        this.coupletForm.coupletDynasty = this.$route.query.coupletDynasty;\n        this.coupletForm.coupletAuthorName = this.$route.query.coupletAuthorName;\n        this.getCoupletType();\n        // console.log(this.$route);\n    },\n    methods: {\n        async getCoupletType() {\n            // 获取楹联类型下拉框\n            try {\n                const res = await this.$api.couplet.getCoupletTypeList();\n                this.coupletTypeList = res.coupletTypeList;\n                // 替换键值对，满足下拉框\n                this.coupletTypeList = this.coupletTypeList.map(function (item) {\n                    return{\n                        \"value\": item.coupletTypeId,\n                        \"label\": item.coupletTypeDetail\n                    }\n                });\n            } catch (error) {\n                this.$message({\n                    message: '自动获取楹联类型失败，请重新尝试',\n                    duration: 2000,\n                    type: 'error'\n                });\n                console.log(error);\n            }\n        },\n        loseBlur() {\n            this.tempData = this.coupletForm.titleAndCoupletText;\n            if(this.coupletForm.titleAndCoupletText) {\n                let titleAndLine = this.coupletForm.titleAndCoupletText.split(/[(\\r\\n)\\r\\n]+/);\n                titleAndLine = titleAndLine.filter((item, index) => {\n                    return item;\n                });\n                this.coupletForm.coupletTitle = titleAndLine[0];\n                this.coupletForm.coupletFirstLine = titleAndLine[1];\n                this.coupletForm.coupletSecondLine = titleAndLine[2];\n                if(titleAndLine.length === 0) {\n                    this.coupletForm.titleAndCoupletText = '标题: ' + ''\n                        + '\\n上联: ' + ''\n                        + '\\n下联: ' + '';  \n                } else if(titleAndLine.length === 1) {\n                    this.coupletForm.titleAndCoupletText = '标题: ' + titleAndLine[0]\n                        + '\\n上联: ' + ''\n                        + '\\n下联: ' + '';  \n                } else if(titleAndLine.length === 2) {\n                    this.coupletForm.titleAndCoupletText = '标题: ' + titleAndLine[0]\n                        + '\\n上联: ' + titleAndLine[1]\n                        + '\\n下联: ' + '';  \n                } else {\n                    this.coupletForm.titleAndCoupletText = '标题: ' + titleAndLine[0]\n                        + '\\n上联: ' + titleAndLine[1]\n                        + '\\n下联: ' + titleAndLine[2];  \n                }\n            }\n        },\n\n        getFocus() {\n            this.coupletForm.titleAndCoupletText = this.tempData;\n        },\n\n        submit(formName) {\n            this.$refs[formName].validate(async (valid) => {\n                if(valid) {\n                    let params = {\n                        coupletAuthorId: this.coupletForm.coupletAuthorId,\n                        coupletAuthorName: this.coupletForm.coupletAuthorName,\n                        coupletTitle: this.coupletForm.coupletTitle,\n                        coupletFrom: this.coupletForm.coupletFrom,\n                        coupletDynasty: this.coupletForm.coupletDynasty,\n                        coupletFirstLine: this.coupletForm.coupletFirstLine,\n                        coupletSecondLine: this.coupletForm.coupletSecondLine,\n                        coupletTypeId: this.coupletForm.coupletTypeId,\n                        coupletAppreaciation: this.coupletForm.coupletAppreaciation,\n                        coupletExplanation: this.coupletForm.coupletExplanation\n                    }\n                    try {\n                        await this.$api.couplet.addCouplet(params);\n                        this.$message({\n                            message: '增加楹联成功',\n                            duration: 2000,\n                            type: 'success'\n                        });\n                        this.reset();\n                    } catch (error) {\n                        this.$message({\n                            message: '增加楹联失败',\n                            duration: 2000,\n                            type: 'error'\n                        });\n                        console.log(error);\n                    }                    \n                } else {\n                    console.log('增加楹联表单验证失败');\n                    return false;\n                }\n            });\n        },\n\n        reset() {\n            this.coupletForm = {\n                titleAndCoupletText: '',\n                coupletAuthorId: this.$route.query.coupletAuthorId,\n                coupletAuthorName: this.$route.query.coupletAuthorName,\n                coupletTitle: '',\n                coupletFrom: '',\n                coupletDynasty: this.$route.query.coupletDynasty,\n                coupletFirstLine: '',\n                coupletSecondLine: '',\n                coupletTypeId: '',\n                coupletAppreaciation: '',\n                coupletExplanation: ''\n            };\n            this.tempData = '';\n            setTimeout(() => {\n                this.$refs['coupletForm'].clearValidate();\n            }, 500);\n        },\n\n    }\n};\n</script>\n\n<style scoped>\n.handle-box {\n    margin-bottom: 20px;\n}\n\n.handle-select {\n    width: 120px;\n}\n\n.handle-input {\n    width: 300px;\n    display: inline-block;\n}\n\n.mr10 {\n    margin-right: 10px;\n}\n\n.avatar-uploader .el-upload {\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n.avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    padding-top: 80px;\n    text-align: center;\n}\n.avatar {\n    height: 100%;\n    display: block;\n}\n\n.title_and_action {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding-bottom: 10px;\n}\n.title_wrap {\n    font-size: 20px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CoupletAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CoupletAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CoupletAdd.vue?vue&type=template&id=22556b00&scoped=true&\"\nimport script from \"./CoupletAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./CoupletAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CoupletAdd.vue?vue&type=style&index=0&id=22556b00&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22556b00\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}