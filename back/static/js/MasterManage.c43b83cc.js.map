{"version":3,"sources":["webpack:///./src/components/page/couplet_about/MasterManage.vue?7c7f","webpack:///src/components/page/couplet_about/MasterManage.vue","webpack:///./src/components/page/couplet_about/MasterManage.vue?87d0","webpack:///./src/components/page/couplet_about/MasterManage.vue","webpack:///./src/components/page/couplet_about/MasterManage.vue?1c8a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","nativeOn","$event","type","indexOf","_k","keyCode","key","handleSearch","model","value","callback","$$v","inputKey","expression","on","handleRefresh","handleAdd","ref","masterList","scopedSlots","_u","fn","scope","row","masterPhoto","handleEdit","$index","handleDelete","whetherShow","handleRecommend","_e","handleAddCouplet","currentPage","pageSize","total","handlePageChange","handlePagePrev","handlePageNext","editVisible","editForm","rules","$set","uploadPicture","beforeAvatarUpload","slot","cancelEdit","saveEdit","addVisible","addForm","uploadPicture_add","cancelAdd","saveAdd","recommendVisible","recommendForm","cancelRecommend","saveRecommend","staticRenderFns","res","$message","console","log","data","url","$refs","upload","clearFiles","whetherChange","editIndex","masterName","name","query","component"],"mappings":"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","file":"static/js/MasterManage.c43b83cc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\">\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-lx-cascades\"}),_vm._v(\" 楹联家管理\\n            \")])],1)],1),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"handle-box\"},[_c('el-input',{staticClass:\"handle-input mr10\",attrs:{\"placeholder\":\"楹联家名字\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSearch($event)}},model:{value:(_vm.inputKey),callback:function ($$v) {_vm.inputKey=$$v},expression:\"inputKey\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.handleRefresh}},[_vm._v(\"刷新\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"搜索\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增古代楹联家\")])],1),_c('el-table',{ref:\"multipleTable\",staticClass:\"table\",attrs:{\"data\":_vm.masterList,\"border\":\"\",\"header-cell-class-name\":\"table-header\"}},[_c('el-table-column',{attrs:{\"prop\":\"masterName\",\"min-width\":\"100\",\"label\":\"楹联家名字\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"masterDynasty\",\"min-width\":\"80\",\"label\":\"朝代\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"头像(查看大图)\",\"min-width\":\"130\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-image',{staticClass:\"table-td-thumb\",attrs:{\"src\":scope.row.masterPhoto,\"preview-src-list\":[scope.row.masterPhoto]}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"masterIntroduction\",\"min-width\":\"300\",\"label\":\"简介\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"masterCreateTime\",\"width\":\"160\",\"label\":\"创建的时间\",\"align\":\"center\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\",\"align\":\"center\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"blue\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"修改\")]),_c('el-button',{staticClass:\"red\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")]),(_vm.whetherShow(scope.$index, scope.row))?_c('el-button',{staticClass:\"orange\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-s-promotion\"},on:{\"click\":function($event){return _vm.handleRecommend(scope.$index, scope.row)}}},[_vm._v(\"推荐\")]):_vm._e(),_c('el-button',{staticClass:\"green\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-circle-plus\"},on:{\"click\":function($event){return _vm.handleAddCouplet(scope.$index, scope.row)}}},[_vm._v(\"为他/她新增楹联\")])]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next\",\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"total\":_vm.total},on:{\"current-change\":_vm.handlePageChange,\"prev-click\":_vm.handlePagePrev,\"next-click\":_vm.handlePageNext}})],1)],1),_c('el-dialog',{attrs:{\"title\":\"编辑\",\"visible\":_vm.editVisible,\"width\":\"40%\",\"show-close\":false,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.editVisible=$event}}},[_c('el-form',{ref:\"editForm\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"楹联家姓名\",\"prop\":\"masterName\"}},[_c('el-input',{model:{value:(_vm.editForm.masterName),callback:function ($$v) {_vm.$set(_vm.editForm, \"masterName\", $$v)},expression:\"editForm.masterName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"楹联家朝代\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.masterDynasty),callback:function ($$v) {_vm.$set(_vm.editForm, \"masterDynasty\", $$v)},expression:\"editForm.masterDynasty\"}})],1),_c('el-form-item',{attrs:{\"label\":\"楹联家简介\",\"prop\":\"masterIntroduction\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":\"\"},model:{value:(_vm.editForm.masterIntroduction),callback:function ($$v) {_vm.$set(_vm.editForm, \"masterIntroduction\", $$v)},expression:\"editForm.masterIntroduction\"}})],1),_c('el-form-item',{attrs:{\"label\":\"楹联家头像最优宽高1:1\",\"prop\":\"masterPhoto\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"m-avatar-uploader\",attrs:{\"action\":\"uploadUrl\",\"show-file-list\":false,\"limit\":1,\"http-request\":_vm.uploadPicture,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.editForm.masterPhoto)?_c('el-image',{staticClass:\"m-avatar\",attrs:{\"src\":_vm.editForm.masterPhoto,\"fit\":\"contain\"}}):_c('i',{staticClass:\"el-icon-plus m-avatar-uploader-icon\"})],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelEdit}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.saveEdit('editForm')}}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"新增\",\"visible\":_vm.addVisible,\"width\":\"40%\",\"show-close\":false,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.addVisible=$event}}},[_c('el-form',{ref:\"addForm\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"楹联家姓名\",\"prop\":\"masterName\"}},[_c('el-input',{model:{value:(_vm.addForm.masterName),callback:function ($$v) {_vm.$set(_vm.addForm, \"masterName\", $$v)},expression:\"addForm.masterName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"楹联家朝代\",\"prop\":\"masterDynasty\"}},[_c('el-input',{model:{value:(_vm.addForm.masterDynasty),callback:function ($$v) {_vm.$set(_vm.addForm, \"masterDynasty\", $$v)},expression:\"addForm.masterDynasty\"}})],1),_c('el-form-item',{attrs:{\"label\":\"楹联家简介\",\"prop\":\"masterIntroduction\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":\"\"},model:{value:(_vm.addForm.masterIntroduction),callback:function ($$v) {_vm.$set(_vm.addForm, \"masterIntroduction\", $$v)},expression:\"addForm.masterIntroduction\"}})],1),_c('el-form-item',{attrs:{\"label\":\"楹联家头像最优宽高1:1\",\"prop\":\"masterPhoto\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"m-avatar-uploader\",attrs:{\"action\":\"uploadUrl\",\"show-file-list\":false,\"limit\":1,\"http-request\":_vm.uploadPicture_add,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.addForm.masterPhoto)?_c('el-image',{staticClass:\"m-avatar\",attrs:{\"src\":_vm.addForm.masterPhoto,\"fit\":\"contain\"}}):_c('i',{staticClass:\"el-icon-plus m-avatar-uploader-icon\"})],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelAdd}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.saveAdd('addForm')}}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"推荐\",\"visible\":_vm.recommendVisible,\"width\":\"30%\",\"show-close\":false,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.recommendVisible=$event}}},[_c('el-form',{ref:\"recommendForm\",attrs:{\"model\":_vm.recommendForm,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"楹联家名字\",\"prop\":\"masterName\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.recommendForm.masterName),callback:function ($$v) {_vm.$set(_vm.recommendForm, \"masterName\", $$v)},expression:\"recommendForm.masterName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"推荐开始时间\",\"prop\":\"masterRecommendStartDate\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"选择开始推荐时间\"},model:{value:(_vm.recommendForm.masterRecommendStartDate),callback:function ($$v) {_vm.$set(_vm.recommendForm, \"masterRecommendStartDate\", $$v)},expression:\"recommendForm.masterRecommendStartDate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"推荐结束时间\",\"prop\":\"masterRecommendEndDate\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"选择结束推荐时间\"},model:{value:(_vm.recommendForm.masterRecommendEndDate),callback:function ($$v) {_vm.$set(_vm.recommendForm, \"masterRecommendEndDate\", $$v)},expression:\"recommendForm.masterRecommendEndDate\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelRecommend}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.saveRecommend('recommendForm')}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"crumbs\">\n            <el-breadcrumb separator=\">\">\n                <el-breadcrumb-item>\n                    <i class=\"el-icon-lx-cascades\"></i> 楹联家管理\n                </el-breadcrumb-item>          \n            </el-breadcrumb>\n        </div>\n        <div class=\"container\">\n            <div class=\"handle-box\">\n                <el-input @keyup.enter.native=\"handleSearch\" v-model=\"inputKey\" placeholder=\"楹联家名字\" class=\"handle-input mr10\"></el-input>\n                <el-button type=\"primary\" icon=\"el-icon-refresh\" @click=\"handleRefresh\">刷新</el-button>\n                <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleSearch\">搜索</el-button>\n                <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"handleAdd\">新增古代楹联家</el-button>\n            </div>\n            <el-table\n                :data=\"masterList\"\n                border\n                class=\"table\"\n                ref=\"multipleTable\"\n                header-cell-class-name=\"table-header\"\n            >\n                <el-table-column prop=\"masterName\" min-width=\"100\" label=\"楹联家名字\" align=\"center\"></el-table-column>\n                <el-table-column prop=\"masterDynasty\" min-width=\"80\" label=\"朝代\" align=\"center\"></el-table-column>\n                <el-table-column label=\"头像(查看大图)\" min-width=\"130\" align=\"center\">\n                    <template slot-scope=\"scope\">\n                        <el-image\n                            class=\"table-td-thumb\"\n                            :src=\"scope.row.masterPhoto\"\n                            :preview-src-list=\"[scope.row.masterPhoto]\"\n                        ></el-image>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"masterIntroduction\" min-width=\"300\" label=\"简介\" align=\"center\"></el-table-column>\n                <el-table-column prop=\"masterCreateTime\" width=\"160\" label=\"创建的时间\" align=\"center\" sortable></el-table-column>\n                <el-table-column label=\"操作\" width=\"200\" align=\"center\" fixed=\"right\">\n                    <template slot-scope=\"scope\">\n                        <el-button\n                            type=\"text\"\n                            icon=\"el-icon-edit\"\n                            class=\"blue\"\n                            @click=\"handleEdit(scope.$index, scope.row)\"\n                        >修改</el-button>\n                        <el-button\n                            type=\"text\"\n                            icon=\"el-icon-delete\"\n                            class=\"red\"\n                            @click=\"handleDelete(scope.$index, scope.row)\"\n                        >删除</el-button>\n                        <el-button\n                            v-if=\"whetherShow(scope.$index, scope.row)\"\n                            type=\"text\"\n                            icon=\"el-icon-s-promotion\"\n                            class=\"orange\"\n                            @click=\"handleRecommend(scope.$index, scope.row)\"\n                        >推荐</el-button>\n                        <el-button\n                            type=\"text\"\n                            icon=\"el-icon-circle-plus\"\n                            class=\"green\"\n                            @click=\"handleAddCouplet(scope.$index, scope.row)\"\n                        >为他/她新增楹联</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <div class=\"pagination\">\n                <el-pagination\n                    background\n                    layout=\"total, prev, pager, next\"\n                    :current-page=\"currentPage\"\n                    :page-size=\"pageSize\"\n                    :total=\"total\"\n                    @current-change=\"handlePageChange\"\n                    @prev-click=\"handlePagePrev\"\n                    @next-click=\"handlePageNext\"\n                ></el-pagination>\n            </div>\n        </div>\n\n        <el-dialog title=\"编辑\" :visible.sync=\"editVisible\" width=\"40%\" :show-close=\"false\" :close-on-click-modal=\"false\">\n            <el-form ref=\"editForm\" :model=\"editForm\" :rules=\"rules\" label-width=\"100px\">\n                <el-form-item label=\"楹联家姓名\" prop=\"masterName\">\n                    <el-input v-model=\"editForm.masterName\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"楹联家朝代\">\n                    <el-input v-model=\"editForm.masterDynasty\" disabled></el-input>\n                </el-form-item>                \n                <el-form-item label=\"楹联家简介\" prop=\"masterIntroduction\">\n                    <el-input type=\"textarea\" autosize v-model=\"editForm.masterIntroduction\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"楹联家头像最优宽高1:1\" prop=\"masterPhoto\">\n                    <el-upload\n                        ref=\"upload\"\n                        class=\"m-avatar-uploader\"\n                        action=\"uploadUrl\"\n                        :show-file-list=\"false\"\n                        :limit=\"1\"\n                        :http-request=\"uploadPicture\"\n                        :before-upload=\"beforeAvatarUpload\">\n                        <el-image v-if=\"editForm.masterPhoto\" :src=\"editForm.masterPhoto\" fit=\"contain\" class=\"m-avatar\"></el-image>\n                        <i v-else class=\"el-icon-plus m-avatar-uploader-icon\"></i>\n                    </el-upload>\n                </el-form-item>\n            </el-form>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"cancelEdit\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"saveEdit('editForm')\">确 定</el-button>\n            </span>\n        </el-dialog>\n\n        <el-dialog title=\"新增\" :visible.sync=\"addVisible\"  width=\"40%\" :show-close=\"false\" :close-on-click-modal=\"false\">\n            <el-form ref=\"addForm\" :model=\"addForm\" :rules=\"rules\" label-width=\"100px\">\n                <el-form-item label=\"楹联家姓名\" prop=\"masterName\">\n                    <el-input v-model=\"addForm.masterName\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"楹联家朝代\" prop=\"masterDynasty\">\n                    <el-input v-model=\"addForm.masterDynasty\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"楹联家简介\" prop=\"masterIntroduction\">\n                    <el-input type=\"textarea\" autosize v-model=\"addForm.masterIntroduction\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"楹联家头像最优宽高1:1\" prop=\"masterPhoto\">\n                    <el-upload\n                        ref=\"upload\"\n                        class=\"m-avatar-uploader\"\n                        action=\"uploadUrl\"\n                        :show-file-list=\"false\"\n                        :limit=\"1\"\n                        :http-request=\"uploadPicture_add\"\n                        :before-upload=\"beforeAvatarUpload\">\n                        <el-image v-if=\"addForm.masterPhoto\" :src=\"addForm.masterPhoto\" fit=\"contain\" class=\"m-avatar\"></el-image>\n                        <i v-else class=\"el-icon-plus m-avatar-uploader-icon\"></i>\n                    </el-upload>\n                </el-form-item>\n            </el-form>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"cancelAdd\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"saveAdd('addForm')\">确 定</el-button>\n            </span>\n        </el-dialog>\n\n        <el-dialog title=\"推荐\" :visible.sync=\"recommendVisible\" width=\"30%\" :show-close=\"false\" :close-on-click-modal=\"false\">\n            <el-form ref=\"recommendForm\" :model=\"recommendForm\" :rules=\"rules\" label-width=\"120px\">\n                <el-form-item label=\"楹联家名字\" prop=\"masterName\">\n                    <el-input v-model=\"recommendForm.masterName\" :disabled=\"true\"></el-input>\n                </el-form-item>               \n                <el-form-item label=\"推荐开始时间\" prop=\"masterRecommendStartDate\">\n                    <el-date-picker\n                        v-model=\"recommendForm.masterRecommendStartDate\"\n                        type=\"datetime\" value-format=\"yyyy-MM-dd HH:mm:ss\"\n                        placeholder=\"选择开始推荐时间\">\n                    </el-date-picker>\n                </el-form-item>\n                <el-form-item label=\"推荐结束时间\" prop=\"masterRecommendEndDate\">\n                    <el-date-picker\n                        v-model=\"recommendForm.masterRecommendEndDate\"\n                        type=\"datetime\" value-format=\"yyyy-MM-dd HH:mm:ss\"\n                        placeholder=\"选择结束推荐时间\">\n                    </el-date-picker>\n                </el-form-item>\n            </el-form>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"cancelRecommend\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"saveRecommend('recommendForm')\">确 定</el-button>\n            </span>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport utils from '../../../utils/utils.js'\nexport default {\n    name: 'MasterManage',\n    data() {\n        var validateDynasty = (rules, value, callback) => {\n            if(!value) {\n                callback(new Error('请输入楹联家朝代'));\n            } else if(value == '当代' || value == '现代') {\n                callback(new Error('当/现代楹联家只能从用户中设置'));\n            } else {\n                callback();\n            }\n        };\n\n        return {\n            inputKey: '',\n            masterList: [],\n            coupletTypeList: [],\n\n            currentPage: 1,\n            pageSize: 10,\n            total: 0,\n\n            whetherChange: false,\n\n            editIndex: -1,\n            recommendIndex: -1,\n            editVisible: false,\n            addVisible: false,\n            recommendVisible: false,\n            editForm: {},\n            addForm: {},\n            recommendForm: {},\n\n            rules: {\n                masterName:[\n                    {required: true, message: '请输入楹联家姓名', trigger: 'blur'}\n                ],\n                masterIntroduction:[\n                    {required: true, message: '请输入楹联家简介', trigger: 'blur'}\n                ],\n                masterPhoto:[\n                    {required: true, message: '请选择楹联家头像', trigger: 'blur'}\n                ],\n                masterDynasty:[\n                    {required: true, validator: validateDynasty, trigger: 'blur'}\n                ],\n                masterRecommendStartDate:[\n                    {required: true, message: '请选择推荐开始时间', trigger: 'blur'}\n                ],\n                masterRecommendEndDate:[\n                    {required: true, message: '请选择推荐结束时间', trigger: 'blur'}\n                ],    \n            }\n        };\n    },\n    activated() {\n        this.inputKey = '';\n        this.currentPage = 1;\n        this.getMasterList();\n    },\n    methods: {\n        async getMasterList() {\n            let params = {\n                inputKey: this.inputKey,\n                pageSize: this.pageSize,\n                currentPage: this.currentPage\n            };\n            try {\n                const res = await this.$api.couplet.getMasterList(params);\n                this.total = res.total;\n                this.masterList = res.masterList;\n            } catch (error) {\n                this.$message({\n                    message: '获取楹联家失败',\n                    duration: 2000,\n                    type: 'error'\n                });\n                console.log(error);\n            }\n        },\n\n        // 触发刷新\n        handleRefresh() {\n            let messageObject = this.$message('刷新中');\n            this.currentPage = 1;\n            this.inputKey = '';\n            this.getMasterList();\n            messageObject.close();\n        },\n\n        // 触发搜索按钮\n        handleSearch() {\n            this.currentPage = 1;\n            this.getMasterList()\n        },\n\n        // 是否显示推荐\n        whetherShow(index, row) {\n            if(!row.masterRecommendStartDate) {\n                // 还没有推荐过\n                return true;\n            } else {\n                let start = new Date(row.masterRecommendStartDate).getTime();\n                let end = new Date(row.masterRecommendEndDate).getTime();\n                let now = new Date().getTime();\n                // 推荐时间过期了，或者还没有到推荐时间\n                if(now > start && now < end) {\n                    return false;\n                } else {\n                    return true;\n                }\n            }\n        },\n\n        // 分页导航\n        handlePageChange(val) {\n            this.currentPage = val;\n            this.getMasterList();\n        },\n\n        handlePagePrev(){\n            this.currentPage--;\n        },\n\n        handlePageNext(){\n            this.currentPage++;\n        },\n\n        async uploadPicture_add(file) {\n            try {\n                const data = await utils.uploadFile('/couplet-server/master/back/uploadPhoto', file.file);\n                this.$set(this.addForm, 'masterPhoto', data.url);\n                this.$message({\n                    message: '图片上传成功',\n                    duration: 2000,\n                    type: 'success'\n                });\n                this.$refs.upload.clearFiles();\n            } catch (error) {\n                console.log(error);\n                this.$message({\n                    message: '图片上传失败',\n                    duration: 2000,\n                    type: 'error'\n                });\n            }\n        },\n\n        async uploadPicture(file) {\n            try {\n                const data = await utils.uploadFile('/couplet-server/master/back/uploadPhoto', file.file);\n                this.$set(this.editForm, 'masterPhoto', data.url);\n                this.$message({\n                    message: '图片上传成功',\n                    duration: 2000,\n                    type: 'success'\n                });\n                this.whetherChange = true;\n                this.$refs.upload.clearFiles();\n            } catch (error) {\n                console.log(error);\n                this.$message({\n                    message: '图片上传失败',\n                    duration: 2000,\n                    type: 'error'\n                });\n            }\n        },\n\n        // 删除头像\n        async deletePhoto() {\n            let params = {\n                url: this.masterList[this.editIndex].masterPhoto\n            }\n            try {\n                await this.$api.couplet.deletePhoto(params);\n                console.log(this.masterList[this.editIndex].masterName + \"的原有图片删除成功\");\n            } catch (error) {\n                console.log(this.masterList[this.editIndex].masterName + \"的原有图片删除失败\");\n                console.log(error);\n            }\n        },\n\n        // 上传前判断\n        beforeAvatarUpload(file) {\n            const isJPGOrPNG = (file.type === 'image/jpeg' || file.type === 'image/png');\n            if (!isJPGOrPNG) {\n                this.$message.error('上传封面图片只能是 JPG或者PNG 格式!');\n            }\n            else{\n                this.$message({\n                    message: '上传中',\n                    duration: 1000,\n                    type: 'info'\n                });\n            }\n            return isJPGOrPNG;\n        },\n\n        handleEdit(index, row) {\n            this.editIndex = index;\n            this.editForm = JSON.parse(JSON.stringify(row));\n            this.editVisible = true;\n            this.whetherChange = false;\n        },\n\n        cancelEdit() {\n            this.editVisible = false;\n            this.$message({\n                message: '操作已取消',\n                duration: 1500,\n                type: 'info'\n            });\n            this.editForm = {};\n            this.$refs['editForm'].clearValidate();\n        },\n\n        handleDelete(index, row) {\n            let whetherSendNotice = row.masterBindedUserId;\n            this.$confirm('该楹联家将永久删除，确定要继续吗？\\r\\n 删除后，将会自动通知用户结果', '提示', {\n                type: 'warning',\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n            }).then(async () => {\n                let masterPhoto = row.masterPhoto;\n                let masterBindedUserId = row.masterBindedUserId;\n                let params;\n                if(row.masterBindedUserId) {\n                    params = {\n                        masterId: row.masterId,\n                        coupletAuthorId: row.masterBindedUserId,\n                        userId: row.masterBindedUserId\n                    };\n                } else {\n                    params = {\n                        masterId: row.masterId,\n                        coupletAuthorId: row.masterId,\n                        userId: ''\n                    };                    \n                }\n                try {\n                    await this.$api.couplet.deleteMaster(params);\n                    this.$message({\n                        message: '删除成功',\n                        duration: 2000,\n                        type: 'success'\n                    });\n                    // 只有古代楹联家的头像需要删掉\n                    if(masterPhoto && !masterBindedUserId) {\n                        let params = {\n                            url: masterPhoto\n                        };\n                        try {\n                            await await this.$api.couplet.deletePhoto(params);\n                            console.log('删除楹联家头像图片成功');\n                        } catch (error) {\n                            console.log('删除楹联家头像图片失败');\n                        }\n                    }\n                    this.getMasterList();\n                    if(whetherSendNotice) {\n                        setTimeout(() => {\n                            utils.sendNotice(whetherSendNotice, 6);\n                        }, 1000);\n                    }\n                } catch (error) {\n                    this.$message({\n                        message: '删除失败',\n                        duration: 2000,\n                        type: 'error'\n                    });\n                    console.log(error);\n                }\n            }).catch(() => {\n                this.$message({\n                    message: '操作已取消',\n                    duration: 1500,\n                    type: 'info'\n                });\n            });\n\n        },\n\n        handleAdd() {\n            this.addVisible = true;\n            this.addForm = {\n                masterIntroduction: '',\n                masterName: '',\n                masterDynasty: '',\n                masterPhoto: ''\n            };\n        },\n\n        cancelAdd() {\n            this.addVisible = false;\n            this.$message({\n                message: '操作已取消',\n                duration: 1500,\n                type: 'info'\n            });\n            this.addForm = {};\n            this.$refs['addForm'].clearValidate();\n        },\n\n        cancelRecommend() {\n            this.recommendVisible = false;\n            this.$message({\n                message: '操作已取消',\n                duration: 1500,\n                type: 'info'\n            });\n            this.recommendForm = {};\n            this.$refs['recommendForm'].clearValidate();\n        },\n\n        handleRecommend(index, row) {\n            this.recommendVisible = true;\n            this.recommendIndex = index;\n            this.recommendForm = JSON.parse(JSON.stringify(row));\n        },\n\n        async handleAddCouplet(index, row) {\n            if(row.masterBindedUserId) {\n                this.$router.push({\n                    name: 'CoupletAdd',\n                    query: {\n                        coupletAuthorId: row.masterBindedUserId,\n                        coupletAuthorName: row.masterName,\n                        coupletDynasty: '当代'\n                    }\n                });             \n            } else {\n                this.$router.push({\n                    name: 'CoupletAdd',\n                    query: {\n                        coupletAuthorId: row.masterId,\n                        coupletAuthorName: row.masterName,\n                        coupletDynasty: row.masterDynasty\n                    }\n                });                        \n            }\n        },\n\n        saveAdd(formName) {\n            this.$refs[formName].validate(async (valid) => {\n                if(valid) {\n                    this.addVisible = false;\n                    try {\n                        await this.$api.couplet.addMaster(this.addForm);\n                        this.$message({\n                            message: '添加成功',\n                            duration: 2000,\n                            type: 'success'\n                        });\n                        this.getMasterList();\n                    } catch (error) {\n                        this.$message({\n                            message: '添加失败',\n                            duration: 2000,\n                            type: 'error'\n                        });\n                        console.log(error);\n                    }\n                } else {\n                    console.log('增加楹联家表单验证失败');\n                    return false;\n                }\n            });\n        },\n\n        saveEdit (formName) {\n            this.$refs[formName].validate(async (valid) => {\n                if(valid) {\n                    this.editVisible = false;\n                    let params = {\n                        masterId: this.editForm.masterId,\n                        masterName: this.editForm.masterName,\n                        masterIntroduction: this.editForm.masterIntroduction,\n                        masterPhoto: this.editForm.masterPhoto\n                    };\n                    try {\n                        await this.$api.couplet.modifyMaster(params);\n                        this.$message({\n                            message: '修改成功',\n                            duration: 2000,\n                            type: 'success'\n                        });\n                        this.$set(this.masterList, this.editIndex, this.editForm);\n                        if (this.whetherChange) {\n                            this.deletePhoto();\n                        }\n                    } catch (error) {\n                        this.$message({\n                            message: '修改失败',\n                            duration: 2000,\n                            type: 'error'\n                        });\n                        console.log(error);\n                    }\n                } else {\n                    console.log('修改楹联家表单验证失败');\n                    return false;\n                }\n            });\n        },\n\n        saveRecommend(formName) {\n            this.$refs[formName].validate(async (valid) => {\n                if(valid) {\n                    let params = {\n                        masterId: this.recommendForm.masterId,\n                        masterRecommendStartDate: this.recommendForm.masterRecommendStartDate,\n                        masterRecommendEndDate: this.recommendForm.masterRecommendEndDate\n                    }\n                    if(!utils.compareRecommendDate(params.masterRecommendStartDate, params.masterRecommendEndDate)){\n                        return false;\n                    }\n                    this.recommendVisible = false;\n                    try {\n                        await this.$api.couplet.recommendMaster(params);\n                        this.$message({\n                            message: '推荐成功',\n                            duration: 2000,\n                            type: 'success'\n                        });\n                        this.$set(this.masterList, this.recommendIndex, this.recommendForm);\n                    } catch (error) {\n                        this.$message({\n                            message: '推荐失败',\n                            duration: 2000,\n                            type: 'error'\n                        });\n                        console.log(error);\n                    }\n                } else {\n                    console.log('推荐楹联家表单验证失败');\n                    return false;\n                }\n            });\n        },\n    }\n};\n</script>\n\n<style>\n.handle-box {\n    margin-bottom: 20px;\n}\n\n.handle-select {\n    width: 120px;\n}\n\n.orange {\n    color: orange;\n}\n\n.handle-input {\n    width: 300px;\n    display: inline-block;\n}\n.table {\n    width: 100%;\n    font-size: 14px;\n}\n.red {\n    color: #ff0000;\n}\n.green {\n    color: yellowgreen;\n}\n.mr10 {\n    margin-right: 10px;\n}\n.table-td-thumb {\n    display: block;\n    margin: auto;\n    width: 40px;\n    height: 40px;\n}\n.m-avatar-uploader .el-upload {\n    width: 150px;\n    height: 150px;\n    overflow: hidden;\n}\n.m-avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n}\n.m-avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 150px;\n    height: 150px;\n    line-height: 150px;\n    text-align: center;\n}\n.m-avatar {\n    height: 100%;\n    border: none;\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MasterManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MasterManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MasterManage.vue?vue&type=template&id=3faf2553&\"\nimport script from \"./MasterManage.vue?vue&type=script&lang=js&\"\nexport * from \"./MasterManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MasterManage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MasterManage.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}